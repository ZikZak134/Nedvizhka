–ò–î–µ—è

–û—Ç–ª–∏—á–Ω–æ. –†–∞–∑–±–µ—Ä—É –≤—Å–µ —Ç—Ä–∏ –ø—É–Ω–∫—Ç–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—É—é –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Å—Ç—Ä–æ–∏—Ç—å –∏–º–µ–Ω–Ω–æ –≤–∞–º —Å –≤–∞—à–∏–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –±—ç–∫–æ–º.

***

## 1. –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤–º–µ—Å—Ç–æ –¥–æ—Å–∫–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤–∞—à —Å–∞–π—Ç –∏–∑ –≤–∏—Ç—Ä–∏–Ω—ã –æ–±—ä–µ–∫—Ç–æ–≤ –≤ **–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ä—ã–Ω–∫–∞** ‚Äî —Ç–æ, –Ω–∞ —á—Ç–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏/—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏ –∑–∞—Ö–æ—Ç—è—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ insights. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –≤–∞—Å –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–µ—â—ë –æ–¥–Ω–∏–º –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ–º¬ª, –∞ **–∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–æ–º –Ω–∞ —Ä—ã–Ω–∫–µ —ç–ª–∏—Ç–∫–∏**.

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–¥—É–ª–∏

**–ú–æ–¥—É–ª—å 1: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã –∏ —Ç–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –ø–æ —Ä–∞–π–æ–Ω–∞–º**

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ–±—ä–µ–∫—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ, –∞ –∞–Ω–∞–ª–∏—Ç–∏–∫—É:
- **–î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –ø–æ –∫–≤–∞–¥—Ä–∞—Ç–∞–º** (—Å—Ä–µ–¥–Ω–∏–π, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π) –≤ –∫–∞–∂–¥–æ–º —Ä–∞–π–æ–Ω–µ/–º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30/90/180 –¥–Ω–µ–π.
- **–°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂–∏** (median days on market): –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –≤ –ö—Ä–∞—Å–Ω–æ–π –ü–æ–ª—è–Ω–µ –ø—Ä–æ–¥–∞—é—Ç—Å—è –∑–∞ 15 –¥–Ω–µ–π, –∞ –∫–∞–∫–∏–µ –ª–µ–∂–∞—Ç 100+ –¥–Ω–µ–π ‚Äî —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫—É –ø–æ–Ω—è—Ç—å, –ø–µ—Ä–µ–æ—Ü–µ–Ω–µ–Ω –ª–∏ –µ–≥–æ –æ–±—ä–µ–∫—Ç.
- **–î–∏–Ω–∞–º–∏–∫–∞ —Ü–µ–Ω** ‚Äî –Ω–∞ —Å–∫–æ–ª—å–∫–æ % –≤—ã—Ä–æ—Å–ª–∞ —Ü–µ–Ω–∞ –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤ –≤ –∫–∞–∂–¥–æ–º –∫–ª–∞—Å—Ç–µ—Ä–µ (–°–∏—Ä–∏—É—Å –≤–≤–µ—Ä—Ö –Ω–∞ 12%, –ú–∞–º–∞–π–∫–∞ –±–æ–∫–æ–≤–∏–∫, –†–æ–∑–∞ –•—É—Ç–æ—Ä –≤–Ω–∏–∑).
- **–¢–µ–ø–ª–æ–≤—ã–µ —Å–ª–æ–∏**: –≥–¥–µ —Å–µ–π—á–∞—Å –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–º–Ω–æ–≥–æ –ø–æ–∫–∞–∑–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤, –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏).

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏: QGIS/Mapbox backend, –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ GeoJSON, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ React/Vue —Å visualisation –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ (Deck.gl, Folium).

**–ú–æ–¥—É–ª—å 2: –û—Ç—á–µ—Ç—ã –ø–æ –∫–æ–º–ø–ª–µ–∫—Å–∞–º –∏ –¥–æ–º–∞–º**

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –ñ–ö (Mantera, Sochi Lighthouse, Residence, Corum –∏ —Ç.–¥.) —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ + –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –æ–±–Ω–æ–≤–ª—è–µ–º—ã–π –æ—Ç—á—ë—Ç:
- **–¶–µ–Ω–æ–≤–∞—è –¥–∏–Ω–∞–º–∏–∫–∞:** —Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏–ª –∫–≤–∞–¥—Ä–∞—Ç –º–µ—Å—è—Ü –Ω–∞–∑–∞–¥, —Å–µ–π—á–∞—Å, –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 3 –º–µ—Å—è—Ü–∞ (–∏–ª–∏ –¥–∞–∂–µ ML‚Äë–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏).
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π** –∏ –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ (–µ—Å–ª–∏ –º–µ—Å—è—Ü –Ω–∞–∑–∞–¥ –±—ã–ª–æ 20 –æ–±—ä–µ–∫—Ç–æ–≤, –∞ —Ç–µ–ø–µ—Ä—å 45 ‚Äî —ç—Ç–æ —Å–ª–∞–±–æ–µ —Å–ø—Ä–æ—Å –∏–ª–∏ –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º).
- **–°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂–∏** –≤ —ç—Ç–æ–º –ñ–ö –ø–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –¥–∞–Ω–Ω—ã–º.
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω** (histogram): –µ—Å—Ç—å –ª–∏ –æ–±—ä–µ–∫—Ç—ã, —è–≤–Ω–æ –ø–µ—Ä–µ–æ—Ü–µ–Ω—ë–Ω–Ω—ã–µ –∏–ª–∏ –Ω–µ–¥–æ–æ—Ü–µ–Ω—ë–Ω–Ω—ã–µ.
- **–§–æ—Ç–æ –æ–±–∑–æ—Ä –∫–æ–º–ø–ª–µ–∫—Å–∞**, –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–µ—Å–ª–∏ —Å–∞–º–∏ —Å–Ω–∏–º–∞–ª–∏) –∏–ª–∏ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª—É—á—à–∏–µ —Ñ–æ—Ç–æ.
- **–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã** —ç—Ç–æ–≥–æ –ñ–ö —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –±—é–¥–∂–µ—Ç—É.

–ü—Ä–∏–º–µ—Ä: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ Mantera –∑–∞ 120 –º–ª–Ω ‚ÇΩ –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ –≤–∞—à —Å–∞–π—Ç, –≤–∏–¥–∏—Ç, —á—Ç–æ –≤ –µ–≥–æ –∫–æ–º–ø–ª–µ–∫—Å–µ –º–µ–¥–∏–∞–Ω–∞ = 115 –º–ª–Ω, –µ–≥–æ —Ü–µ–Ω–∞ –≤—ã—à–µ –Ω–∞ 4%, –∞ –∑–∞ –º–µ—Å—è—Ü –ø–æ–¥–æ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –ø—Ä–æ–¥–∞–≤–∞–ª–∏—Å—å –≤ —Å—Ä–µ–¥–Ω–µ–º –∑–∞ 25 –¥–Ω–µ–π ‚Äî –æ–Ω –ø–æ–Ω–∏–º–∞–µ—Ç, —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞ –ª–∏ –µ–≥–æ —Ü–µ–Ω–∞ –∏–ª–∏ –Ω—É–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞.[1][2]

**–ú–æ–¥—É–ª—å 3: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞)**

–î–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∑–Ω–∞–µ—Ç, –≥–¥–µ –ª—É—á—à–µ –∫–∏–Ω—É—Ç—å 100+ –º–ª–Ω:
- **–†–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ—Å—É—Ç–æ—á–Ω–æ–π –∞—Ä–µ–Ω–¥—ã** –ø–æ –∫–≤–∞—Ä—Ç–∞–ª–∞–º –°–æ—á–∏ (—Å—Ä–µ–¥–Ω–∏–π –º–µ—Å—è—á–Ω—ã–π –¥–æ—Ö–æ–¥ –Ω–∞ –∫–≤–∞–¥—Ä–∞—Ç / —Ü–µ–Ω–∞ = ROI%).
- **–ü—Ä–∏—Ä–æ—Å—Ç —Ü–µ–Ω—ã –≤ % –≥–æ–¥–æ–≤—ã—Ö** –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3‚Äì5 –ª–µ—Ç –ø–æ –∫–ª–∞—Å—Ç–µ—Ä–∞–º (–µ—Å–ª–∏ –ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞ —à–ª–∞ +15% –≤ –≥–æ–¥, —ç—Ç–æ –≤–∞–∂–Ω—ã–π —Å–∏–≥–Ω–∞–ª).
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–µ–≤–µ–ª–æ–ø–µ—Ä—Å–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** (–∫–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ñ–ö, —ç—Ç–æ –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏–µ).
- **–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑**: –°–æ—á–∏ vs –ì–µ–ª–µ–Ω–¥–∂–∏–∫ vs –ö—Ä—ã–º (–µ—Å–ª–∏ –≤–∞–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏).

–ü—Ä–∏–º–µ—Ä: –∏–Ω–≤–µ—Å—Ç–æ—Ä –≤–∏–¥–∏—Ç, —á—Ç–æ –ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞ –∑–∞ 5 –ª–µ—Ç –≤—ã—Ä–æ—Å–ª–∞ –Ω–∞ +145% (–æ—Ç 1.2–ú –¥–æ 2.9–ú –∑–∞ –∫–≤), –∞ –ú–∞–º–∞–π–∫–∞ +23% ‚Äî —Ä–µ—à–∞–µ—Ç –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å—Å—è –≤ –ü–æ–ª—è–Ω—É, –∞ –Ω–µ –≤ —Ö–∞–π–ø –ú–∞–º–∞–π–∫–∏.

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

```
Frontend: React + Next.js (SSR –¥–ª—è SEO –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü)
–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è: Mapbox GL, Chart.js / Recharts, Ant Design –¥–ª—è dashboard
Backend: Python (FastAPI) + PostgreSQL + TimescaleDB (–¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤)
–ü–∞—Ä—Å–∏–Ω–≥ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–∫—Ä–µ–π–ø–µ—Ä—ã (—Å–º. –Ω–∏–∂–µ)
API –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏: REST + WebSocket (real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
```

–í–∞–∂–Ω–æ: –∫–∞–∂–¥—ã–π –æ—Ç—á—ë—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **shareable** (QR‚Äë–∫–æ–¥, —Å—Å—ã–ª–∫–∞, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤ PDF) ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –∏–ª–∏ –±—Ä–æ–∫–µ—Ä –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–≥–æ –∫–ª–∏–µ–Ω—Ç—É –∫–∞–∫ proof-of-research.

***

## 2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω—ã –∏ –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤

–≠—Ç–æ **–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –Ω–æ–º–µ—Ä –æ–¥–∏–Ω** –≤ —ç–ª–∏—Ç–∫–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—Ä—É—á–Ω—É—é —ç—Ç–æ –¥–µ–ª–∞—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å—Ç–∞—Ä–µ–µ—Ç –±—ã—Å—Ç—Ä–æ.

### –ú–æ–¥—É–ª—å 1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (–ø–∞—Ä—Å–∏–Ω–≥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ –∏ —Ü–µ–Ω)

**–ß—Ç–æ –Ω—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å:**

–ù–∞ –ê–≤–∏—Ç–æ, –¶–ò–ê–ù, –Ø–Ω–¥–µ–∫—Å.–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –∏ –∑–∞–∫—Ä—ã—Ç—ã–µ —Å–∞–π—Ç—ã –∞–≥–µ–Ω—Ç—Å—Ç–≤ (Vincent, Elite Sochi, Kalinka, Atlas) –Ω—É–∂–Ω–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—Ç—å:
- **ID –æ–±—ä–µ–∫—Ç–∞, –∞–¥—Ä–µ—Å, —Ü–µ–Ω–∞, –¥–∞—Ç—É –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –∫–æ–ª‚Äë–≤–æ —Ñ–æ—Ç–æ, —Å—Ç–∞—Ç—É—Å** (–∞–∫—Ç–∏–≤–µ–Ω/–∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è).
- **–ò—Å—Ç–æ—Ä–∏—é —Ü–µ–Ω**: –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –±—ã–ª –¥–µ—à–µ–≤–ª–µ –Ω–∞ 2 –º–ª–Ω ‚ÇΩ? –ù–∞ —Å–∫–æ–ª—å–∫–æ % —É–ø–∞–ª–∞ —Ü–µ–Ω–∞ –∑–∞ –º–µ—Å—è—Ü?
- **–ö—Ç–æ –ø—Ä–æ–¥–∞–µ—Ç**: –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫, –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ, —á–∞—Å—Ç–Ω–æ–µ –ª–∏—Ü–æ (–ø–æ watermark, —Ç–µ–∫—Å—Ç—É, phone patterns).
- **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: —Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ç–æ (–µ—Å–ª–∏ < 5 ‚Äî –ø–ª–æ—Ö–æ), –µ—Å—Ç—å –ª–∏ –≤–∏–¥–µ–æ, drone footage.

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏:

**–î–ª—è –ê–≤–∏—Ç–æ/–¶–ò–ê–ù/–Ø–Ω–¥–µ–∫—Å–∞** (–µ—Å—Ç—å —á–∞—Å—Ç–∏—á–Ω–∞—è –∑–∞—â–∏—Ç–∞):
- **Puppeteer.js** (Node.js) –∏–ª–∏ **Selenium** (Python) ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏, —á—Ç–æ–±—ã –Ω–µ –≤—ã–≥–ª—è–¥–µ—Ç—å –±–æ—Ç–æ–º.[3]
- –Æ–∑–µ—Ä-–∞–≥–µ–Ω—Ç—ã, —Ä–æ—Ç–∞—Ü–∏—è IP (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ ‚Äî —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏‚Äë–ø—É–ª—ã).
- –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å: —Ä–∞–∑ –≤ 12‚Äì24 —á–∞—Å–∞ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –¥–ª—è —Å—Ç–∞—Ä—ã—Ö.
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL** —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º (–µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ –æ–±—ä–µ–∫—Ç–æ–≤, –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω—ã).

**–î–ª—è –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–∞–π—Ç–æ–≤ –∞–≥–µ–Ω—Ç—Å—Ç–≤** (—Ç–∏–ø–∞ Vincent, Elite Sochi):
- –ü—Ä—è–º–æ–π –ø–∞—Ä—Å–∏–Ω–≥ (—É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –Ω–µ—Ç –∞–Ω—Ç–∏–±–æ—Ç–∞), –º–æ–∂–Ω–æ –¥–∞–∂–µ —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä—Å–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∞–π—Ç–∞.
- –ò–ª–∏, –µ—Å–ª–∏ —Å–æ–≤—Å–µ–º –∑–∞–∫—Ä—ã—Ç–æ, **–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏** (Instagram, VKontakte) ‚Äî –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ –ø–æ—Å—Ç—è—Ç –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã —Ç—É–¥–∞ –∂–µ.

**API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–∞:**
- –ê–≤–∏—Ç–æ API (GET /context/v1/items) ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–∫–∞–∑–æ–≤, –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤.
- –¶–ò–ê–ù API ‚Äî –æ—Ç—á—ë—Ç—ã –æ–± –æ—à–∏–±–∫–∞—Ö (—á—Ç–æ –Ω–µ –ø—Ä–æ—à–ª–æ –º–æ–¥–µ—Ä–∞—Ü–∏—é).

**–•—Ä–∞–Ω–µ–Ω–∏–µ:**
```sql
-- —Ç–∞–±–ª–∏—Ü–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
CREATE TABLE properties (
    id SERIAL PRIMARY KEY,
    source VARCHAR (50), -- 'avito', 'cian', 'yandex', 'vincent', etc
    external_id VARCHAR(100), -- ID –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–µ
    address VARCHAR(255),
    price_rub BIGINT,
    price_original_currency VARCHAR(10), -- –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ –≤ –µ–≤—Ä–æ
    price_eur DECIMAL,
    photo_count INT,
    published_date TIMESTAMP,
    last_updated TIMESTAMP,
    seller_type VARCHAR(50), -- 'developer', 'agency', 'individual'
    seller_name VARCHAR(255),
    status VARCHAR(50), -- 'active', 'expired', 'sold'
    quality_score FLOAT, -- –Ω–∞—à–∞ –æ—Ü–µ–Ω–∫–∞ 0-100
    created_at TIMESTAMP DEFAULT NOW()
);

-- —Ç–∞–±–ª–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ (–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω)
CREATE TABLE property_price_history (
    id SERIAL PRIMARY KEY,
    property_id INT REFERENCES properties(id),
    price_rub BIGINT,
    price_eur DECIMAL,
    recorded_at TIMESTAMP DEFAULT NOW()
);
```

**–ß—Ç–æ —Å—á–∏—Ç–∞—Ç—å –∏–∑ —ç—Ç–æ–≥–æ:**
- **–¶–µ–Ω–æ–≤–∞—è –¥–µ–ª—å—Ç–∞**: –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –≤ —è–Ω–≤–∞—Ä–µ 100M, –≤ —Ñ–µ–≤—Ä–∞–ª–µ 98M ‚Äî —Ü–µ–Ω–∞ —É–ø–∞–ª–∞ –Ω–∞ 2%, –∑–Ω–∞—á–∏—Ç —Å–ø—Ä–æ—Å —Å–ª–∞–±—ã–π –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ —Å—Ä–æ—á–Ω–æ –ø—Ä–æ–¥–∞—ë—Ç.
- **–°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂–∏**: –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –±—ã–ª 30 –¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω—ã–º, –∞ –ø–æ—Ç–æ–º –∏—Å—á–µ–∑ (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ø—Ä–æ–¥–∞–Ω).
- **–°–∫–æ—Ä–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ü–µ–Ω—ã**: –µ—Å–ª–∏ —Ü–µ–Ω–∞ –ø—Ä—ã–≥–∞–ª–∞ –º–Ω–æ–≥–æ —Ä–∞–∑ –≤ –º–µ—Å—è—Ü ‚Äî —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –ø–∞–Ω–∏–∫—É–µ—Ç –∏–ª–∏ –∞–≥–µ–Ω—Ç –¥–∞–≤–∏—Ç.
- **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞—á–µ—Å—Ç–≤—É**: –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ —Ñ–æ—Ç–æ –∏–ª–∏ —Å –æ–¥–Ω–æ–π —Ñ–æ—Ç–∫–æ–π ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ –ø–µ—Ä–µ–æ—Ü–µ–Ω–µ–Ω—ã (–ª—é–¥–∏ –Ω–µ –∑–∞–º–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –∏—Ö –∫—Ä–∞—Å–∏–≤–æ –≤—ã–∫–ª–∞–¥—ã–≤–∞—Ç—å).

### –ú–æ–¥—É–ª—å 2: –û—Ç—á—ë—Ç—ã –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –ø–∏—Å—å–º–∞)

–ö–æ–≥–¥–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –≤–Ω–µ—Å—ë–Ω –≤ –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ–≥–æ –æ–±—ä–µ–∫—Ç –Ω–∞ –≤–∞—à —Å–∞–π—Ç –≤—ã–ª–æ–∂–µ–Ω), –µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–∏—Å—å–º–æ:

```
–¢–µ–º–∞: –í–∞—à–∞ –∫–≤–∞—Ä—Ç–∏—Ä–∞ –≤ –ö—Ä–∞—Å–Ω–æ–π –ü–æ–ª—è–Ω–µ: –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é

–£–≤–∞–∂–∞–µ–º—ã–π –ò–≤–∞–Ω,

–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π –Ω–∞ —Ä—ã–Ω–∫–µ:

üìä –í–∞—à–∞ —Ü–µ–Ω–∞: 120M ‚ÇΩ (3.2–ú –∑–∞ –º¬≤)
üìà –ú–µ–¥–∏–∞–Ω–∞ —Å–µ–≥–º–µ–Ω—Ç–∞ (–ø–µ–Ω—Ç—Ö–∞—É—Å—ã 120-150–ú –≤ –ö—Ä–∞—Å–Ω–æ–π –ü–æ–ª—è–Ω–µ): 115M ‚ÇΩ
‚ö†Ô∏è –í–∞—à–∞ —Ü–µ–Ω–∞ –≤—ã—à–µ –º–µ–¥–∏–∞–Ω—ã –Ω–∞ +4% ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É.

üèòÔ∏è –í –≤–∞—à–µ–º –ñ–ö –ø–æ—è–≤–∏–ª–æ—Å—å 3 –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–∞ –∑–∞ –Ω–µ–¥–µ–ª—é
   - –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: 118M ‚ÇΩ
   - –í–∞—à –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç: [–Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞] ‚Äî —ç—Ç–æ –ø–ª—é—Å

‚è±Ô∏è –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂–∏ –≤ —Å–µ–≥–º–µ–Ω—Ç–µ: 22 –¥–Ω—è
   –í–∞—à –æ–±—ä–µ–∫—Ç –∞–∫—Ç–∏–≤–µ–Ω: 45 –¥–Ω–µ–π

üí¨ –î–µ–π—Å—Ç–≤–∏–µ:
   –õ–∏–±–æ —Å–Ω–∏–∂–∞–µ–º —Ü–µ–Ω—É –Ω–∞ 2-3%, –ª–∏–±–æ —É—Å–∏–ª–∏–≤–∞–µ–º –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ (–¥–æ–±–∞–≤–∏—Ç—å drone video, 3D tour).

–ñ–µ–ª–∞–µ—Ç–µ –æ–±—Å—É–¥–∏—Ç—å? –ö–Ω–æ–ø–∫–∞ "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é" ‚Üí
```

–¢–∞–∫–∏—Ö –æ—Ç—á—ë—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–±–ª–æ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î, –Ω–æ **–∫–∞–∂–¥—ã–π –ø–∏—Å—å–º–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ** –ø–æ–¥ –æ–±—ä–µ–∫—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞.

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏: **Celery + Redis** –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á, **Jinja2** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∏—Å–µ–º, **SendGrid/SES** –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏.

### –ú–æ–¥—É–ª—å 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤ (Telegram, WhatsApp)

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ª—é–¥–∏ –ø–∏—Å–∞–ª–∏ –≤–∞–º –Ω–∞ —Å–∞–π—Ç –∏ –∂–¥–∞–ª–∏ –æ—Ç–≤–µ—Ç, –≤—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç–µ **Telegram –∏ WhatsApp –±–æ—Ç–∞**:

**Telegram –±–æ—Ç (—Ç–µ–ª–µ–≥—Ä–∞–º –ø—Ä–∏–≤—ã—á–Ω–µ–µ –¥–ª—è —Ä—É—Å—Å–∫–∏—Ö):**
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ—Ç—á—ë—Ç—ã –ø–æ –æ–±—ä–µ–∫—Ç—É (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç "@bot subscribe –ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞" ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç –≤ —á–∞—Ç).
- –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É ("@bot find –°–æ—á–∏, —É–ª. –í–∏–Ω–æ–≥—Ä–∞–¥–Ω–∞—è 2").
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –≤—Ö–æ–¥—è—Ç –≤ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–±—é–¥–∂–µ—Ç, –ª–æ–∫–∞—Ü–∏—è, —Ç–∏–ø).
- –ü—Ä—è–º–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å –≤–∞–º–∏ (—á–∞—Ç –∑–∞—Ö–æ–¥–∏—Ç –≤ CRM, –≤–∏–¥–Ω–æ, —á—Ç–æ —ç—Ç–æ –ª–∏–¥ —Å–æ Telegram, –µ–≥–æ –∏—Å—Ç–æ—Ä–∏—è).

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏: **python-telegram-bot** –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (VPS) –Ω–∞ –∫–æ—Ç–æ—Ä–º –∫—Ä—É—Ç–∏—Ç—Å—è –±–æ—Ç, –≤–µ–±—Ö—É–∫–∏ –¥–ª—è –ø—Ä–∏—ë–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π.

**–î–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏** (—É–∂–µ –ø—Ä–æ–≤–µ–¥—ë–Ω–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏):
- –ë–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç **—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö** ("–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –Ω–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–∞ Sochi Lighthouse, —Ü–µ–Ω–∞: 127M ‚ÇΩ –∑–∞ –≤–∞—à–∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏").
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –ø—Ä—è–º–æ –≤ –±–æ—Ç–µ **–æ–¥–æ–±—Ä–∏—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å** (–∫–Ω–æ–ø–∫–∏), —ç—Ç–æ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –≤–∞—à—É CRM.

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Avito/CIAN –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º–∏:
- –í–∞—à–∞ CRM –¥–æ–ª–∂–Ω–∞ –ø–æ–ª—É—á–∞—Ç—å **–≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –ê–≤–∏—Ç–æ** (—á–µ—Ä–µ–∑ –∏—Ö API /messenger/v1/), –ø–∞—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç—ã –æ–±—Ä–∞—Ç–Ω–æ –≤ –ê–≤–∏—Ç–æ, –Ω–µ –∑–∞—Ö–æ–¥—è –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç. –≠—Ç–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞, –∫–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç, —á—Ç–æ –≤—ã responsive.[4][1]

```python
# –ü—Ä–∏–º–µ—Ä: –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –ê–≤–∏—Ç–æ, –æ—Ç–≤–µ—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
@app.post("/avito/message")
async def handle_avito_message(payload: dict):
    user_id = payload['from_user_id']
    message_text = payload['text']
    
    # –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞
    if is_first_contact(user_id):
        send_avito_response(user_id, f"""
        –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç–µ—Å—å –æ–±—ä–µ–∫—Ç–æ–º!
        
        üìç {property_address}
        üí∞ {price}
        üìè {area} –º¬≤
        
        –ì–æ—Ç–æ–≤—ã –ø–æ–∫–∞–∑–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å–µ–≥–æ–¥–Ω—è —Å 14:00 –∏–ª–∏ –∑–∞–≤—Ç—Ä–∞ —Å 10:00?
        """)
    
    # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î –∫–∞–∫ –ª–∏–¥
    save_lead(user_id, message_text, source='avito')
```

***

## 3. –ñ—ë—Å—Ç–∫–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞: —Ñ–æ—Ç–æ, –ø–ª–∞–Ω—ã, –æ–ø–∏—Å–∞–Ω–∏—è

–í —ç–ª–∏—Ç–∫–µ **–∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é = –∫–æ–Ω–≤–µ—Ä—Å–∏—è**. –ï—Å–ª–∏ —É –≤–∞—Å 5 —Ä–∞–∑–º—ã—Ç—ã—Ö —Ñ–æ—Ç–æ –∏ –ø–æ–ª–æ–≤–∏–Ω—É –∏—Ö –∑–∞—Å–ª–æ–Ω—è–µ—Ç –≤–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫, –¥–∞–∂–µ –∑–∞ 50 –º–ª–Ω ‚ÇΩ –ª—é–¥–∏ –Ω–µ –∫–ª–∏–∫–Ω—É—Ç. –ï—Å–ª–∏ –≤—ã—á–∏—Ç–∞–ª –Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞—Ö 15 FullHD —Ñ–æ—Ç–æ + drone + 3D —Ç—É—Ä, –∞ —É –≤–∞—Å 3 —Ñ–æ—Ç–æ ‚Äî –≤—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏ –≤ blind test.

### –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ñ–æ—Ç–æ

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–∞–¥—Ä—ã –¥–ª—è –∫–≤–∞—Ä—Ç–∏—Ä—ã/–ø–µ–Ω—Ç—Ö–∞—É—Å–∞ (—ç–ª–∏—Ç–∫–∞):**[5][6][7][8][9]

| –¢–∏–ø | –ö–æ–ª-–≤–æ | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è | –ü–æ—á–µ–º—É |
|-----|--------|-----------|--------|
| –≠–∫—Å—Ç–µ—Ä—å–µ—Ä (—Ñ–∞—Å–∞–¥ –ñ–ö) | 1-2 | Drone 4K, –Ω–∞—Ä—É–∂–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ, –∑–¥–∞–Ω–∏–µ —Ü–µ–ª–∏–∫–æ–º | –ü–µ—Ä–≤–æ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ, —Å—Ç–∞—Ç—É—Å |
| –í—Ö–æ–¥–Ω–∞—è –¥–≤–µ—Ä—å/—Ö–æ–ª–ª | 1 | –û—Å–≤–µ—â—ë–Ω–Ω–æ, –≤–∏–¥–Ω–∞ –æ—Ç–¥–µ–ª–∫–∞, –Ω–∏–∫–∞–∫–æ–≥–æ —Ö–ª–∞–º–∞ | –í—Å—Ç—Ä–µ—á–∞ —Å –æ–±—ä–µ–∫—Ç–æ–º |
| –ì–æ—Å—Ç–∏–Ω–∞—è | 2-3 wide + 1-2 detail | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —à–∏—Ä–æ–∫–∏–π —É–≥–æ–ª (16-35–º–º), —Ç–æ–ª—å–∫–æ 1 exposure (–Ω–µ HDR), –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å –≤–∏–¥ –∏–∑ –æ–∫–Ω–∞ | –ì–ª–∞–≤–Ω–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ, –≤–∏–¥–Ω–æ –º–∞—Å—à—Ç–∞–± |
| –°–ø–∞–ª—å–Ω–∏ | 2 wide –∫–∞–∂–¥–∞—è | –¢–æ –∂–µ, —á—Ç–æ –≥–æ—Å—Ç–∏–Ω–∞—è | –ú–∞—Å—Ç–µ—Ä-—Å–ø–∞–ª—å–Ω—è + –≥–æ—Å—Ç–µ–≤–∞—è |
| –ö—É—Ö–Ω—è | 2-3 —Ñ–æ—Ç–æ | –í–∫–ª—é—á–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫—É—Ö–Ω—é –∏ –≤–∏–¥ –∏–∑ –æ–∫–Ω–∞, detail-—Ñ–æ—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∏ –µ—Å–ª–∏ –ø—Ä–µ–º–∏—É–º | –í–∞–∂–Ω–∞ –¥–ª—è —Å–µ–º–µ–π |
| –°–∞–Ω—É–∑–ª—ã | 1-2 –∫–∞–∂–¥—ã–π | –ü–ª–∏—Ç–æ—á–∫–∞, —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞, –∑–µ—Ä–∫–∞–ª–æ –≤ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º –æ—Å–≤–µ—â–µ–Ω–∏–∏ | –ü–æ–∫–∞–∑–∞—Ç—å —É—Ö–æ–∂–µ–Ω–Ω–æ—Å—Ç—å |
| –í–∏–¥ –∏–∑ –æ–∫–Ω–∞ | 1-2 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö | –î–Ω—ë–º –∏ –∑–∞–∫–∞—Ç (–µ—Å–ª–∏ –∫—Ä–∞—Å–∏–≤–æ) | –°—Ç–∞—Ç—É—Å –ª–æ–∫–∞—Ü–∏–∏ |
| –ë–∞–ª–∫–æ–Ω/—Ç–µ—Ä—Ä–∞—Å–∞ | 2 | –í–∏–¥ –Ω–∞ –º–æ—Ä–µ –∏–ª–∏ –≥–æ—Ä–æ–¥, –≤–∏–¥ –Ω–∞ —Å–æ—Å–µ–¥–µ–π | –¶–µ–Ω–Ω—ã–π —É–≥–æ–ª |
| –î–µ—Ç–∞–ª–∏ | 3-5 | –ö–∞–º–∏–Ω, –ª—é—Å—Ç—Ä–∞, –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, –ø–∞—Ä–∫–µ—Ç, –ª–µ–ø–Ω–∏–Ω–∞ | –ü—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å |
| –ü–ª–∞–Ω –∫–≤–∞—Ä—Ç–∏—Ä—ã | 1 | –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, —á–∏—Å—Ç—ã–π, —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ | –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ |
| **–ò–¢–û–ì–û** | **18-28** | **–¢–æ–ª—å–∫–æ FullHD+, –±–µ–∑ watermark –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ –Ω–∞ —Ñ–æ—Ç–æ** | **–ú–∏–Ω–∏–º—É–º –¥–ª—è —ç–ª–∏—Ç–∫–∏** |

**–ö–∞—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤:**
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: **–º–∏–Ω–∏–º—É–º 1920x1280** (FullHD), –Ω–∞ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä—ã –≤ –ª—É—á—à–µ–º —Å–ª—É—á–∞–µ –≥—Ä—É–∑–∏—Ç–µ 3000x2000+.
- –ë–µ–∑ watermark –≤–∞—à–µ–≥–æ –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ –Ω–∞ —Ñ–æ—Ç–æ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä—ã —à—Ç—Ä–∞—Ñ—É—é—Ç –∑–∞ —ç—Ç–æ).
- –ë–µ–∑ –∑—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –¥–∏—Å—Ç–æ—Ä—à–Ω–∏, —Ö—Ä–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∞–±–µ—Ä—Ä–∞—Ü–∏–π.
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π **white balance**: —Ç—ë–ø–ª—ã–π —Å–≤–µ—Ç (–µ—Å–ª–∏ –≤ –∫–≤–∞—Ä—Ç–∏—Ä–µ —Ç–µ–ø–ª–æ), –∏–ª–∏ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π –µ—Å–ª–∏ –¥–Ω–µ–≤–Ω–æ–π —Å–≤–µ—Ç.
- **–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è**: –∫–æ–Ω—Ç—Ä–∞—Å—Ç +15-20%, —Å–ª–µ–≥–∫–∞ –ø–æ–¥–Ω—è–ª–∏ highlights (–∫–≤–∞—Ä—Ç–∏—Ä–∞ —Å–≤–µ—Ç–ª–µ–µ –≤—ã–≥–ª—è–¥–∏—Ç), –Ω–æ –Ω–µ –ø–µ—Ä–µ–±–æ—Ä—â–∏—Ç—å.

**–¢–µ—Ö–Ω–∏–∫–∞ –¥–ª—è —Å—ä—ë–º–∫–∏:**[6][5]
- **–ö–∞–º–µ—Ä–∞**: Full-frame DSLR (Canon 5D / Nikon D850) –∏–ª–∏ mirrorless (Sony A7 / Canon R5) ‚Äî –Ω—É–∂–Ω–∞ –º–∞—Ç—Ä–∏—Ü–∞ –¥–ª—è 4K, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è drone.
- **–û–±—ä–µ–∫—Ç–∏–≤—ã**: 16-35–º–º f/2.8 (wide, –¥–ª—è –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤), 50–º–º f/1.4 (detail-—à–æ—Ç—ã), 8–º–º fisheye (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ wow-—ç—Ñ—Ñ–µ–∫—Ç).
- **–®—Ç–∞—Ç–∏–≤**: –∫—Ä–µ–ø–∫–∏–π, —Å —à–∞—Ä–æ–≤–æ–π –≥–æ–ª–æ–≤–æ–π, —á—Ç–æ–±—ã –Ω–µ –¥—Ä–æ–∂–∞–ª–∞ –∫–∞–º–µ—Ä–∞.
- **–û—Å–≤–µ—â–µ–Ω–∏–µ**: 2-3 LED –ø–∞–Ω–µ–ª–∏ (Neewer / Aputure) –Ω–∞ 5600K –¥–ª—èË°•light —Ç–µ–Ω–µ–π.
- **Drone**: DJI Mini 4 Pro –∏–ª–∏ Mavic 3 –¥–ª—è –∞—ç—Ä–æ-–∫–∞–¥—Ä–æ–≤ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è —ç–ª–∏—Ç–∫–∏ —Å –≤–∏–¥–æ–º).

### –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –æ–ø–∏—Å–∞–Ω–∏—è

–¢–µ–∫—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞—Ä—è–∂–µ–Ω**, –Ω–æ **—á–µ—Å—Ç–µ–Ω**:

**–ù–ï –ü–†–ê–í–ò–õ–¨–ù–û:**
```
–ü–æ—Ç—Ä—è—Å–∞—é—â–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞! –≠–ª–∏—Ç! –ú–æ—Ä–µ! –ü–∞—Ä–∫! –í—Å—ë —Ä—è–¥–æ–º!
–°—Ä–æ—á–Ω–æ! –ò–Ω–≤–µ—Å—Ç–∏—Ä—É–π!
```

**–ü–†–ê–í–ò–õ–¨–ù–û:**
```
–ü–µ–Ω—Ç—Ö–∞—É—Å 150–º¬≤ –≤ –ñ–ö Residence (–ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞), 2024 –≥–æ–¥–∞ –ø–æ—Å—Ç—Ä–æ–π–∫–∏.

üè° –ü–ª–∞–Ω–∏—Ä–æ–≤–∫–∞: –æ—Ç–∫—Ä—ã—Ç–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ (–≥–æ—Å—Ç–∏–Ω–∞—è + –∫—É—Ö–Ω—è + —Å—Ç–æ–ª–æ–≤–∞—è), 
   2 —Å–ø–∞–ª—å–Ω–∏, 2 –≤–∞–Ω–Ω—ã–µ, –≥–∞—Ä–¥–µ—Ä–æ–±–Ω–∞—è, –±–∞–ª–∫–æ–Ω–Ω–∞—è —Ç–µ—Ä—Ä–∞—Å–∞ 40–º¬≤.

üèîÔ∏è –í–∏–¥: –Ω–∞ –ö–∞–≤–∫–∞–∑—Å–∫–∏–π —Ö—Ä–µ–±–µ—Ç –∏ –û–ª–∏–º–ø–∏–π—Å–∫–∏–π –ø–∞—Ä–∫. –ü–æ–ª–Ω–∞—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å 
   (–∂–∏–ª–æ–π –∫–æ–º–ø–ª–µ–∫—Å –∑–∞–∫—Ä—ã—Ç–æ–≥–æ —Ç–∏–ø–∞, –æ—Ö—Ä–∞–Ω–∞ 24/7).

üõãÔ∏è –û—Ç–¥–µ–ª–∫–∞: –¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–π —Ä–µ–º–æ–Ω—Ç, –¥–æ—Ä–æ–≥–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (–º—Ä–∞–º–æ—Ä, –ø–∞—Ä–∫–µ—Ç), 
   –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ Miele. –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—é.

üìç –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ 5 –º–∏–Ω —Ö–æ–¥—å–±—ã: —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, –∫–∞—Ñ–µ, –°–ü–ê-–∫–æ–º–ø–ª–µ–∫—Å, 
   –¥–µ—Ç—Å–∫–∏–π —Å–∞–¥ (—Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π –ª–∏—Ü–µ–π), —Ç–µ–Ω–Ω–∏—Å–Ω—ã–µ –∫–æ—Ä—Ç—ã.

üí∞ –¶–µ–Ω–∞: 127 –º–ª–Ω ‚ÇΩ (846 —Ç—ã—Å—è—á –∑–∞ –º¬≤). 
   –í–æ–∑–º–æ–∂–Ω–∞ –∏–ø–æ—Ç–µ–∫–∞ —á–µ—Ä–µ–∑ –î–æ–º–ö–ª–∏–∫, —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ø–µ—Ä–µ—Å–µ–ª–µ–Ω–∏—è.

üìû –ü–æ–∫–∞–∂–µ–º –≤ —É–¥–æ–±–Ω–æ–µ –≤–∞–º –≤—Ä–µ–º—è.
```

**–ü—Ä–∞–≤–∏–ª–æ:** 
- **–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞** ‚Äî –∞–¥—Ä–µ—Å, –≥–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏, –ø–ª–æ—â–∞–¥—å.
- **3-4 –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞** –ø–æ —é–∑–µ—Ä-–∫–µ–π—Å–∞–º (–ø–ª–∞–Ω ‚Üí –≤–∏–¥ ‚Üí –æ—Ç–¥–µ–ª–∫–∞ ‚Üí –∏–Ω—Ñ—Ä–∞).
- **–ë–µ–∑ –∫–ª–∏—à–µ** (–Ω–µ "–ø–æ—Ç—Ä—è—Å–∞—é—â–µ", –Ω–µ "–ø—Ä–µ–∫—Ä–∞—Å–Ω–æ"), —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç—ã.
- **–ù–∞ –∫–æ–Ω—Ü–µ** ‚Äî call-to-action (–ø–æ–∫–∞–∑, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –∑–≤–æ–Ω–æ–∫).

### –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å: —á–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –≤—ã–≥—Ä—É–∑–∫–æ–π

–ö–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**:

```python
class PropertyContentValidator:
    def validate(self, property_obj) -> dict:
        errors = []
        warnings = []
        
        # –§–æ—Ç–æ
        if len(property_obj.photos) < 15:
            errors.append("–ú–µ–Ω–µ–µ 15 —Ñ–æ—Ç–æ ‚Äî –¥–ª—è —ç–ª–∏—Ç–∫–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ")
        
        for photo in property_obj.photos:
            if photo.resolution[0] < 1920:
                errors.append(f"–§–æ—Ç–æ {photo.id} –Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ (< 1920px)")
            if has_watermark(photo):
                errors.append(f"–§–æ—Ç–æ {photo.id} —Å–æ–¥–µ—Ä–∂–∏—Ç watermark")
        
        # –ü–ª–∞–Ω
        if not property_obj.floor_plan:
            errors.append("–ù–µ—Ç –ø–ª–∞–Ω–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã")
        
        # –û–ø–∏—Å–∞–Ω–∏–µ
        text_len = len(property_obj.description)
        if text_len < 300:
            warnings.append("–û–ø–∏—Å–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ (< 300 —Å–∏–º–≤–æ–ª–æ–≤)")
        if text_len > 2000:
            errors.append("–û–ø–∏—Å–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ (> 2000 —Å–∏–º–≤–æ–ª–æ–≤)")
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∏—à–µ
        forbidden_words = ['–ø–æ—Ç—Ä—è—Å–∞—é—â–µ', '—Å—É–ø–µ—Ä', '–∫–ª–∞—Å—Å!!!', '—Å—Ä–æ—á–Ω–æ!!!']
        for word in forbidden_words:
            if word.lower() in property_obj.description.lower():
                warnings.append(f"–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –∫–ª–∏—à–µ: '{word}'")
        
        # –¶–µ–Ω–∞
        market_price = get_market_average(property_obj)
        if property_obj.price > market_price * 1.15:
            warnings.append(f"–¶–µ–Ω–∞ –Ω–∞ 15%+ –≤—ã—à–µ —Ä—ã–Ω–∫–∞ ({market_price})")
        
        return {
            'is_valid': len(errors) == 0,
            'errors': errors,
            'warnings': warnings,
            'quality_score': calculate_score(property_obj)
        }
```

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –∑–∞–ø–æ—Å—Ç–∏—Ç—å –≤ –ê–≤–∏—Ç–æ/–¶–ò–ê–ù/–Ω–∞ —Å–≤–æ–π —Å–∞–π—Ç, —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ **–ø—Ä–æ–≥–æ–Ω—è—Ç—å –æ–±—ä–µ–∫—Ç —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä** –∏ —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

–í —ç–ª–∏—Ç–∫–µ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–æ–º–µ–Ω—è—Ç—å —Ñ–æ—Ç–æ, –æ–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ —Ü–µ–Ω—É –±–µ–∑ ¬´–ø–µ—Ä–µ–ø—É–±–ª–∏–∫–∞—Ü–∏–∏¬ª (–∫–æ—Ç–æ—Ä–∞—è —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ –Ω–∞ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞—Ö).

**–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```sql
CREATE TABLE property_versions (
    id SERIAL PRIMARY KEY,
    property_id INT,
    version_number INT,
    title VARCHAR(255),
    description TEXT,
    price BIGINT,
    photos JSON, -- –º–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫
    updated_at TIMESTAMP DEFAULT NOW(),
    status VARCHAR(50) -- 'draft', 'published', 'archived'
);
```

–ö–æ–≥–¥–∞ –≤—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ —Ü–µ–Ω—É –∏–ª–∏ —Ñ–æ—Ç–æ, —ç—Ç–æ **–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è**, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ —Ö–æ–¥–∏—Ç –≤ XML-—Ñ–∏–¥—ã –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ –ø–æ–ª—è, –∞ –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ.

***

## –ò—Ç–æ–≥–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           FRONTEND (React Next.js)                       ‚îÇ
‚îÇ  Dashboard —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ | –ü–æ–∏—Å–∫            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ                            ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Parcing Workers          ‚îÇ  ‚îÇ  Backend (FastAPI)      ‚îÇ
‚îÇ  (Puppeteer/Selenium)     ‚îÇ  ‚îÇ  - API endpoints        ‚îÇ
‚îÇ  - –ê–≤–∏—Ç–æ parser           ‚îÇ  ‚îÇ  - Validation logic     ‚îÇ
‚îÇ  - –¶–ò–ê–ù parser            ‚îÇ  ‚îÇ  - Email/Telegram       ‚îÇ
‚îÇ  - Vincent parser         ‚îÇ  ‚îÇ  - Integrations (Avito  ‚îÇ
‚îÇ  - –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ —Å–∞–π—Ç—ã     ‚îÇ  ‚îÇ    API, CIAN API)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ                           ‚îÇ
             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ   PostgreSQL + TimescaleDB     ‚îÇ
         ‚îÇ   - properties (—Ç–µ–∫—É—â–∏–µ)       ‚îÇ
         ‚îÇ   - price_history (–≤–µ—Ä—Å–∏–∏)     ‚îÇ
         ‚îÇ   - market_analytics           ‚îÇ
         ‚îÇ   - leads / clients            ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ   Background Tasks (Celery)    ‚îÇ
         ‚îÇ   - Generate weekly reports    ‚îÇ
         ‚îÇ   - Send emails/Telegram       ‚îÇ
         ‚îÇ   - Update aggregator feeds    ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

***

## –ë—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫–∏ –¥–ª—è MVP

- **–ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ + –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π backend**: 2‚Äì4 –Ω–µ–¥–µ–ª–∏, $2‚Äì4K (–º–æ–∂–Ω–æ —Å–≤–æ–∏–º–∏ —Å–∏–ª–∞–º–∏ –Ω–∞ Python).
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –∫–∞—Ä—Ç–∞–º–∏ –∏ –¥–∞—à–±–æ—Ä–¥–∞–º–∏**: 3‚Äì5 –Ω–µ–¥–µ–ª—å, $3‚Äì6K.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–æ–≤**: 1‚Äì2 –Ω–µ–¥–µ–ª–∏, $1‚Äì2K.
- **–ö–æ–Ω—Ç–µ–Ω—Ç-—Å–∏—Å—Ç–µ–º–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è**: 1‚Äì2 –Ω–µ–¥–µ–ª–∏, $1‚Äì2K.

**–ò—Ç–æ–≥–æ –Ω–∞ MVP:** $7‚Äì14K –∏ 6‚Äì8 –Ω–µ–¥–µ–ª—å —Ä–∞–±–æ—Ç—ã (–ª–∏–±–æ –≤ team, –ª–∏–±–æ –ø–æ–¥—Ä—è–¥—á–∏–∫—É).

–≠—Ç–æ –æ–∫—É–ø–∏—Ç—Å—è –Ω–∞ **–ø–µ—Ä–≤–æ–π –∂–µ —Å–¥–µ–ª–∫–µ 100+ –º–ª–Ω ‚ÇΩ**, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã –±—É–¥–µ—Ç–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º, –∫—Ç–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å: "—Å–º–æ—Ç—Ä–∏, —Ç–≤–æ–π –æ–±—ä–µ–∫—Ç –Ω–∞ 2% –ø–µ—Ä–µ–æ—Ü–µ–Ω—ë–Ω, –≤–æ—Ç —Ç–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª–∞–±—ã–π —Å–ø—Ä–æ—Å –≤ —ç—Ç–æ–º –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω–µ, –≤–æ—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–Ω–∏–∑–∏—Ç—å —Ü–µ–Ω—É –Ω–∞ 5% –∏ –¥–æ–±–∞–≤–∏—Ç—å drone video".

[1](https://www.hudasoft.com/blogs/real-estate-data-analytics-software/)
[2](https://www.luxuryhomemarketing.com/blog/decoding-luxury-real-estate-trends-how-to-read-the-market-like-a-pro)
[3](https://www.appsilon.com/post/how-to-monitor-real-estate-market-data)
[4](https://www.housecanary.com/blog/beat-the-competition-with-better-market-data)
[5](https://www.luxurypresence.com/blogs/how-to-take-real-estate-photos/)
[6](https://www.frameandformstudio.com/post/mastering-the-art-of-luxury-real-estate-photography)
[7](https://www.photoup.net/learn/luxury-real-estate-photography-guide)
[8](https://showingtime.com/resources/blog/best-practices-pro-tips-for-shooting-luxury-real-estate-photography)
[9](https://www.sothebysrealty.com/goldengatesir/eng/photo-requirements)
[10](https://www.platformarchitecture.it/platform-real-estate-2025/?lang=en)
[11](https://elitex.systems/blog/top-real-estate-tech-companies)
[12](https://calabiyau.ai/top-10-ai-powered-real-estate-investment-research-platforms-2025/)
[13](https://agentelite.com/real-estate-marketing-in-2025-hyper-local-video-beyond-with-agent-elite/)
[14](https://www.jellyfishtechnologies.com/top-real-estate-technology-trends/)
[15](https://www.gptbots.ai/blog/ai-tools-for-real-estate)
[16](https://alterdomus.com/insight/real-estate-outlook/)
[17](https://bhgrecareer.com/bebetterblog/how-to-market-luxury-homes/)
[18](https://syndelltech.com/how-ai-is-changing-real-estate-industry/)
[19](https://atipika.com/en/post/real-estate-intelligence/)
[20](https://bfpminc.com/disruptive-real-estate-technology-trends/)


# –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –°–æ—á–∏ –≤ Cursor —Å –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞–º–∏




## üéØ –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (MVP –∑–∞ 6-8 –Ω–µ–¥–µ–ª—å)

```
‚îú‚îÄ‚îÄ backend/                 # FastAPI + PostgreSQL + Celery
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/             # REST API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parsers/         # –ü–∞—Ä—Å–µ—Ä—ã –ê–≤–∏—Ç–æ/–¶–ò–ê–ù/–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics/       # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ü–µ–Ω, —Ç–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validators/      # –í–∞–ª–∏–¥–∞—Ç–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ integrations/    # Telegram/WhatsApp/Avito API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models/          # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ celery_tasks/        # –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (–æ—Ç—á—ë—Ç—ã, –ø–∞—Ä—Å–∏–Ω–≥)
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ frontend/                # Next.js 15 + TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ app/                 # App Router
‚îÇ   ‚îú‚îÄ‚îÄ components/          # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∫–∞—Ä—Ç—ã, –¥–∞—à–±–æ—Ä–¥—ã)
‚îÇ   ‚îú‚îÄ‚îÄ lib/                 # API clients, utils
‚îÇ   ‚îî‚îÄ‚îÄ public/              # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ database/                # SQL —Å—Ö–µ–º—ã, –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ docker-compose.yml       # –õ–æ–∫–∞–ª—å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îî‚îÄ‚îÄ .env.example
```

## üõ†Ô∏è –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–î–µ–Ω—å 1)

### –ó–∞–¥–∞—á–∞ 1.1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```
–°–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ docker-compose —Å PostgreSQL, Redis, FastAPI, Next.js
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è Cursor/Claude (Composer):**
```
–°–æ–∑–¥–∞–π full-stack –ø—Ä–æ–µ–∫—Ç –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:

1. Backend: FastAPI 0.115+, SQLAlchemy 2.0+, Alembic, Celery 5.4+, Redis 7
2. Frontend: Next.js 15 App Router + TypeScript + TailwindCSS + Shadcn/UI
3. Database: PostgreSQL 16 + TimescaleDB extension + Redis
4. Docker-compose —Å volumes, healthchecks, dev/prod profiles

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
backend/app/__init__.py
backend/app/main.py (FastAPI app)
backend/app/core/config.py (Pydantic Settings)
backend/app/api/v1/endpoints/
backend/app/models/
backend/app/parsers/
backend/app/analytics/
backend/app/validators/
backend/celery_worker.py
frontend/app/page.tsx
frontend/app/api/ [proxy to backend]
frontend/components/ui/ [shadcn]

.env.example —Å POSTGRES_DB, REDIS_URL, JWT_SECRET, etc.
docker-compose.yml —Å named volumes

–ò—Å–ø–æ–ª—å–∑—É–π Python 3.12, Node 22. –í–∫–ª—é—á–∏ CORS, rate limiting, swagger docs.
```

### –ó–∞–¥–∞—á–∞ 1.2: –ë–∞–∑–æ–≤–∞—è –ë–î —Å—Ö–µ–º–∞ (PostgreSQL + TimescaleDB)
```
–°–æ–∑–¥–∞–π core —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –∏—Å—Ç–æ—Ä–∏–∏ —Ü–µ–Ω, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è GPT-4o / Cursor:**
```
–°–æ–∑–¥–∞–π SQL —Å—Ö–µ–º—É PostgreSQL + TimescaleDB –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:

–¢–∞–±–ª–∏—Ü—ã:
1. properties (—Ç–µ–∫—É—â–∏–µ –æ–±—ä–µ–∫—Ç—ã):
   - id, source (avito/cian/yandex/vincent), external_id
   - address, district, complex_name
   - price_rub, price_per_sqm, price_eur
   - area_total, rooms_count, floor, floors_total
   - photos_count, has_plan, has_video, quality_score (0-100)
   - seller_type (developer/agency/individual), seller_name
   - status (active/sold/expired), published_date, last_updated
   - lat, lng, geo_hash (–¥–ª—è —Ç–µ–ø–ª–æ–≤—ã—Ö –∫–∞—Ä—Ç)
   - raw_data JSONB (–¥–ª—è –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

2. property_price_history (–≥–∏–ø–µ—Ä—Ç–∞–±–ª–∏—Ü–∞ TimescaleDB):
   - property_id FK, price_rub, price_per_sqm, recorded_at (time_bucket)

3. market_analytics_daily:
   - date, district, segment (luxury/premium)
   - avg_price, median_price, listings_count, sold_count
   - days_on_market_median, price_change_pct

4. leads:
   - id, telegram_id, phone, name, budget_min/max
   - preferences JSONB (districts, complexes, price_range)

–ò–Ω–¥–µ–∫—Å—ã:
- GIN –Ω–∞ geo_hash, raw_data
- BRIN –Ω–∞ recorded_at (timescale)
- Composite –Ω–∞ district + date
- Partial –Ω–∞ status='active'

–°–æ–∑–¥–∞–π Alembic –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –°–æ—á–∏ (10 –æ–±—ä–µ–∫—Ç–æ–≤ —ç–ª–∏—Ç–∫–∏).
```

## üìä Backend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–ù–µ–¥–µ–ª–∏ 1-3)

### –ó–∞–¥–∞—á–∞ 2.1: –ü–∞—Ä—Å–µ—Ä—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (–ê–≤–∏—Ç–æ/–¶–ò–ê–ù –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
```
–°–æ–∑–¥–∞–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø–∞—Ä—Å–µ—Ä—ã —Å —Ä–æ—Ç–∞—Ü–∏–µ–π –ø—Ä–æ–∫—Å–∏ –∏ –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ü–∏–µ–π
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è Cursor + Claude Sonnet 3.5:**
```
–°–æ–∑–¥–∞–π –º–æ–¥—É–ª—å –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª—è –ê–≤–∏—Ç–æ –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å (—ç–ª–∏—Ç–∫–∞ –°–æ—á–∏) –Ω–∞ FastAPI + Playwright:

–ö–ª–∞—Å—Å AvitoParser:
1. async def parse_search_results(url: str, filters: dict) -> List[PropertyRaw]
   - district: ["–ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞", "–°–∏—Ä–∏—É—Å", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π"]
   - price_min: 50000000, price_max: None
   - page: 1-10

2. async def parse_property_detail(property_id: str) -> PropertyDetail
   - –∏–∑–≤–ª–µ—á—å: —Ü–µ–Ω–∞, –ø–ª–æ—â–∞–¥—å, —ç—Ç–∞–∂, —Ñ–æ—Ç–æ URLs, –æ–ø–∏—Å–∞–Ω–∏–µ
   - seller info, phone detection, quality scoring

–ê–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ü–∏—è:
- stealth mode Playwright (undetected-chromedriver)
- —Ä–æ—Ç–∞—Ü–∏—è user-agents –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –±–∞–∑—ã (Chrome/Edge/Firefox)
- human-like mouse movements, scroll, delays 2-5s
- —Ä–æ—Ç–∞—Ü–∏—è viewport 1920x1080, 1366x768
- –ø—Ä–æ–∫—Å–∏ pool (Tor, residential proxies)

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
```
@dataclass
class PropertyRaw:
    external_id: str
    title: str
    price: Optional[int]
    url: str
    district: str
    photos: List[str]
    raw_html: str  # –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

–°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ PostgreSQL —á–µ—Ä–µ–∑ SQLAlchemy async session.
–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤ structured JSON (structlog).
Retry logic —Å exponential backoff (tenacity).
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è CIAN –ø–∞—Ä—Å–µ—Ä–∞:**
```
–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –¥–ª—è CIAN.ru —Å —É—á–µ—Ç–æ–º –∏—Ö —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏:
- JSON-LD structured data –≤ head
- React hydration (–Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å JS render)
- Auction blocks, premium badges
- –°—Ç—Ä–æ–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (address format, photo quality)
```

### –ó–∞–¥–∞—á–∞ 2.2: API Endpoints (CRUD + Analytics)
```
–°–æ–∑–¥–∞–π REST API v1 —Å Pydantic v2 —Å—Ö–µ–º–∞–º–∏ –∏ Swagger
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è Cursor:**
```
FastAPI CRUD API –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:

Endpoints:

GET /api/v1/properties/
  - filters: district, price_min/max, sort: price|date, limit/offset
  - response: paginated PropertyOut

GET /api/v1/properties/{id}
  - full detail + price history chart data

GET /api/v1/analytics/districts/{district}/
  - params: days=30|90|180, segment=luxury
  - response: {avg_price, median_price, listings_trend, velocity}

GET /api/v1/analytics/heatmap/
  - response: GeoJSON —Å density (count, avg_price) –ø–æ geo_hash

POST /api/v1/properties/bulk-import/
  - body: List[PropertyRaw] –∏–∑ –ø–∞—Ä—Å–µ—Ä–∞
  - –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ external_id + source
  - quality scoring, geo decoding

Pydantic –º–æ–¥–µ–ª–∏:
- PropertyCreate, PropertyUpdate, PropertyOut
- AnalyticsResponse —Å numpy/pandas aggregations
- GeoHeatmapPoint (FeatureCollection GeoJSON)

Dependencies:
- CurrentUser (JWT), RateLimiter
- DatabaseSession (asyncpg)
- Cache Redis (aioredis)

–ò—Å–ø–æ–ª—å–∑—É–π APIRouter —Å tags, response_model, status_code=201.
```

### –ó–∞–¥–∞—á–∞ 2.3: –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä + Quality Scoring
```
ML-based scoring —Å–∏—Å—Ç–µ–º—ã —Ñ–æ—Ç–æ/–æ–ø–∏—Å–∞–Ω–∏–π/–æ–±—ä–µ–∫—Ç–æ–≤
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è GPT-4 Vision + Cursor:**
```
–°–æ–∑–¥–∞–π PropertyContentValidator —Å ML scoring (0-100):

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ü–µ–Ω–∫–∏:

1. Photo Quality (60% –≤–µ—Å):
   ```
   async def score_photos(photos: List[str]) -> float:
       # CLIP –¥–ª—è blur detection, brightness, composition
       # YOLOv8 –¥–ª—è room type detection (kitchen/bedroom)
       # Aesthetic scorer (LAION CLIP ViT-H)
   ```

2. Description Quality (20%):
   - readability (Flesch-Kincaid), keyword density
   - sentiment analysis (VADER/ruBERT)
   - banned words detector ('—Å—Ä–æ—á–Ω–æ!!!', '–ø–æ—Ç—Ä—è—Å–∞—é—â–µ')

3. Listing Completeness (15%):
   - –Ω–∞–ª–∏—á–∏–µ –ø–ª–∞–Ω–∞, –≤–∏–¥–µ–æ, 360 tour
   - –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π (lat/lng, complex_name)

4. Market Competitiveness (5%):
   - price/sqm vs district median ¬±15%
   - days_on_market prediction (XGBoost)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
```
validator = PropertyContentValidator()
score = await validator.score(property)
if score < 75:
    errors = await validator.get_improvement_suggestions()
```

–°–æ—Ö—Ä–∞–Ω—è—Ç—å quality_score –≤ –ë–î, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.
```

### –ó–∞–¥–∞—á–∞ 2.4: Celery Background Tasks
```
–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã, –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é, notifications
```

**–ü—Ä–æ–º–ø—Ç:**
```
Celery 5.4 tasks –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

1. @task(parse_competitors_daily)
   - –ø–∞—Ä—Å–∏–Ω–≥ –ê–≤–∏—Ç–æ/–¶–ò–ê–ù –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (cron 02:00)
   - 10 districts –°–æ—á–∏, luxury filters
   - retry 3x, exponential backoff

2. @task(generate_owner_reports)
   - –¥–ª—è –∫–∞–∂–¥–æ–≥–æ active owner: –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π PDF/HTML
   - market context + property performance
   - SendGrid + Telegram bot delivery

3. @task(calculate_analytics)
   - daily district metrics (TimescaleDB continuous aggregates)
   - price velocity, listing saturation

4. @task(avito_api_sync)
   - pull messages/contacts —á–µ—Ä–µ–∑ Avito API
   - create Lead records

Redis broker + result backend.
Flower dashboard –Ω–∞ /flower.
Healthchecks –¥–ª—è docker.
```

## üó∫Ô∏è Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–ù–µ–¥–µ–ª–∏ 3-5)

### –ó–∞–¥–∞—á–∞ 3.1: –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è Dashboard (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
```
Interactive district analytics —Å –∫–∞—Ä—Ç–∞–º–∏ –∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è Cursor + Claude:**
```
Next.js 15 dashboard –¥–ª—è —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:

–°—Ç—Ä–∞–Ω–∏—Ü–∞ /dashboard:

Grid layout (TailwindCSS + Shadcn):
- Header: –ø–æ–∏—Å–∫ –ø–æ –∞–¥—Ä–µ—Å—É/—Ä–∞–π–æ–Ω—É + date range picker
- Row 1: Mapbox GL heatmap (–∞–∫—Ç–∏–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã + price density) [50% width]
- Row 2: 
  | District Cards (6x2 grid) | Price Trends Chart (Line + Area) |
  | avg_price, listings_count  | 30/90/180 days, forecast line    |
- Row 3: Top Performers table (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ velocity)

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```
DistrictCard: {name, avgPrice, listings, velocityDays, trendArrow}
PriceTrendChart: Recharts ResponsiveContainer
PropertyHeatmap: Mapbox with Deck.gl overlay

Real-time: useSWR + WebSocket –¥–ª—è live updates
Mobile responsive: breakpoints sm/md/lg
Dark mode: shadcn theme
```

API proxy —á–µ—Ä–µ–∑ /api/[...nextjs].api.ts ‚Üí backend
```

### –ó–∞–¥–∞—á–∞ 3.2: –ö–∞—Ä—Ç—ã –∏ —Ç–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã
```
Mapbox + Deck.gl –¥–ª—è geo analytics
```

**–ü—Ä–æ–º–ø—Ç:**
```
Interactive Mapbox GL –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —ç–ª–∏—Ç–∫–∏ –°–æ—á–∏:

1. Base layer: –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã —Å—Ç–∏–ª—å –∏–ª–∏ custom tileset –°–æ—á–∏
2. Heatmap layers:
   - Density: –∫–æ–ª-–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ geo_hash (H3 index)
   - Price heatmap: avg_price_per_sqm 
   - Velocity: days_on_market (–∑–µ–ª—ë–Ω—ã–π=–±—ã—Å—Ç—Ä–æ, –∫—Ä–∞—Å–Ω—ã–π=–º–µ–¥–ª–µ–Ω–Ω–æ)

3. Clustering markers –¥–ª—è >50 –æ–±—ä–µ–∫—Ç–æ–≤
4. Click ‚Üí Property detail modal
5. Filters: price slider, district picker, date range

Mapbox token –∏–∑ env.NEXT_PUBLIC_MAPBOX_TOKEN
Deck.gl GPU acceleration –¥–ª—è 10k+ —Ç–æ—á–µ–∫
H3 hexagonal grid overlay (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### –ó–∞–¥–∞—á–∞ 3.3: Property Detail + Owner Dashboard
```
–°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±—ä–µ–∫—Ç–∞ + –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞
```

**–ü—Ä–æ–º–ø—Ç:**
```
Property detail page /properties/[id]:

Layout:
- Hero section: 4K hero photo + price + quality badge
- Section 1: Key metrics cards (—Ü–µ–Ω–∞/–º¬≤, velocity, district rank)
- Section 2: Photo gallery (Lightbox, 360 viewer)
- Section 3: Price history chart + market context
- Section 4: Improvement suggestions (–µ—Å–ª–∏ quality_score < 90)

Owner Dashboard /owner/[property_id]:
- Performance metrics (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –∫–æ–Ω—Ç–∞–∫—Ç—ã)
- Weekly report generator (PDF download)
- Edit listing ‚Üí Content validator real-time
- A/B testing prices (–ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é)

Zustand state management –¥–ª—è filters/pagination
```

## ü§ñ –ò–ò-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (–ù–µ–¥–µ–ª—è 5)

### –ó–∞–¥–∞—á–∞ 4.1: GPT-4o –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
```
–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π + –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OpenAI API:**
```
OpenAI GPT-4o integration:

1. generate_description(property: Property) ‚Üí optimized listing text
```
–ü—Ä–æ–º–ø—Ç: "–ù–∞–ø–∏—à–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏. –§–∞–∫—Ç—ã: {property}. –ö–ª–∏–µ–Ω—Ç: {buyer_persona}. SEO keywords: {district, complex}. 300-500 —Å–ª–æ–≤."
```

2. personalize_report(property: Property, market_data: Analytics) ‚Üí owner email
```
–ü—Ä–æ–º–ø—Ç: "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ {name}, –≤–∞—à–∞ –∫–≤–∞—Ä—Ç–∏—Ä–∞ {price} –≤ {district}. –†—ã–Ω–æ–∫: {market_trends}. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: {improvements}."
```

Few-shot examples + temperature=0.3 –¥–ª—è consistency
```

### –ó–∞–¥–∞—á–∞ 4.2: Telegram/WhatsApp Bots
```
2-way communication + notifications
```

**–ü—Ä–æ–º–ø—Ç:**
```
Telegram Bot –Ω–∞ python-telegram-bot v21:

Commands:
/start ‚Üí welcome + subscribe options
/subscribe –ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞ 100M+ ‚Üí weekly alerts
/property [id] ‚Üí detail card + photos
/analytics [district] ‚Üí inline market data
/support ‚Üí —á–∞—Ç —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º

Inline keyboards –¥–ª—è quick actions:
- –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä
- –ó–∞–ø—Ä–æ—Å–∏—Ç—å –æ—Ç—á—ë—Ç PDF
- –°—Ä–∞–≤–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã

Push notifications:
- –ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –ø–æ –≤–∞—à–∏–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- –¶–µ–Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞ —É–ø–∞–ª–∞ –Ω–∞ 5%+
- –í–∞—à –æ–±—ä–µ–∫—Ç –≤ —Ç–æ–ø-10 –ø–æ velocity

Webhook ‚Üí FastAPI /webhooks/telegram
Rate limiting + conversation state (Redis)
```

## üöÄ –î–µ–ø–ª–æ–π –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–ù–µ–¥–µ–ª—è 6)

### –ó–∞–¥–∞—á–∞ 5.1: Docker Production
```
Multi-stage build + CI/CD GitHub Actions
```

**–ü—Ä–æ–º–ø—Ç:**
```
Production Docker setup:

backend/Dockerfile:
- Python 3.12 slim
- Poetry install --no-dev
- Gunicorn 22 uvicorn workers=4
- TimescaleDB extension

frontend/Dockerfile:
- Node 22 alpine
- Next.js static export + SSR
- nginx reverse proxy

docker-compose.prod.yml:
- postgres:16 + timescale
- redis:7-cluster
- backend: expose 8000
- frontend: expose 3000
- celery worker + beat + flower

GitHub Actions:
- lint/test/build/push
- preview deployments
- smoke tests
```

## üì± –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ë–æ–Ω—É—Å, –ù–µ–¥–µ–ª—è 7-8)

```
React Native Expo + push notifications
```

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è Cursor Composer

### Master Prompt Template –¥–ª—è Cursor:
```
–¢—ã senior full-stack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —ç–ª–∏—Ç–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.

Context:
- FastAPI + Next.js 15 + PostgreSQL/TimescaleDB + Celery
- Elite real estate Sochi (luxury segment 50M+ RUB)
- Technical SEO first, mobile-first responsive
- Dark mode + premium UI (Shadcn/Tailwind)
- Real-time analytics, ML content scoring

Rules:
1. –ò—Å–ø–æ–ª—å–∑—É–π async/await everywhere
2. Pydantic v2 models + SQLAlchemy 2.0 async
3. TypeScript strict mode + Zod validation
4. Error handling —Å structured logging (structlog)
5. Performance: Redis cache, database connection pooling
6. Security: rate limiting, JWT auth, CORS strict

Generate:
- Complete working code (no stubs)
- Tests (pytest/Vitest)
- Docker configs
- Environment validation
```

***

## üìã –ü–æ—à–∞–≥–æ–≤—ã–π —Ç—Ä–µ–∫–∫–µ—Ä –∑–∞–¥–∞—á (6 –Ω–µ–¥–µ–ª—å)

```
–ù–µ–¥–µ–ª—è 1: [x] Project setup + DB schema + Basic CRUD API
–ù–µ–¥–µ–ª—è 2: [ ] Avito/CIAN parsers + Bulk import
–ù–µ–¥–µ–ª—è 3: [ ] Analytics engine + Quality validator
–ù–µ–¥–µ–ª—è 4: [ ] Frontend dashboard + Maps
–ù–µ–¥–µ–ª—è 5: [ ] Owner dashboard + Telegram bot + GPT integration
–ù–µ–¥–µ–ª—è 6: [ ] Production deploy + Monitoring + Tests
```

*# ‚úÖ **–ü–†–û–î–û–õ–ñ–ï–ù–ò–ï: –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω –ø–æ –∑–∞–¥–∞—á–∞–º (—É—á–∏—Ç—ã–≤–∞—è —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)**

## üöÄ **–°–ï–ô–ß–ê–° –ù–ê–ß–ò–ù–ê–ï–ú –° –ü–ï–†–í–û–ô –ó–ê–î–ê–ß–ò**

***

## **–ù–ï–î–ï–õ–Ø 1: –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê + –ë–ê–ó–û–í–ê–Ø –ë–î**

### **üìÅ –ó–∞–¥–∞—á–∞ 1.1: –ü–æ–ª–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (2-3 —á–∞—Å–∞)**

**–í Cursor —Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏ –≤—Å—Ç–∞–≤—å —ç—Ç–æ—Ç –ø—Ä–æ–º–ø—Ç –≤ Composer:**

```
–°–æ–∑–¥–∞–π –ü–û–õ–ù–£–Æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:

== BACKEND (FastAPI) ==
backend/
‚îú‚îÄ‚îÄ pyproject.toml (Poetry 1.8+)
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ alembic.ini
‚îú‚îÄ‚îÄ requirements.txt (–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∏–∑ poetry)
‚îú‚îÄ‚îÄ backend/app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py (FastAPI app —Å CORS, docs)
‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py (PydanticSettings)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ security.py (JWT, OAuth2)
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deps.py (get_db, get_current_user)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ v1/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ endpoints/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ properties.py
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ analytics.py
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ root.py
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ api.py (APIRouter)
‚îÇ   ‚îú‚îÄ‚îÄ crud/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ properties.py
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ property.py
‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ property.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user.py
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validators.py
‚îÇ   ‚îî‚îÄ‚îÄ database.py (SQLAlchemy async)
‚îú‚îÄ‚îÄ alembic/
‚îÇ   ‚îî‚îÄ‚îÄ versions/
‚îî‚îÄ‚îÄ celery_worker.py

== FRONTEND (Next.js 15) ==
frontend/
‚îú‚îÄ‚îÄ next.config.js
‚îú‚îÄ‚îÄ tailwind.config.js
‚îú‚îÄ‚îÄ components.json (shadcn)
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ package.json (Next 15, TS 5.5, Tailwind, Shadcn)
‚îú‚îÄ‚îÄ tsconfig.json (strict)
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx (root layout)
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx (landing)
‚îÇ   ‚îú‚îÄ‚îÄ globals.css
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îú‚îÄ‚îÄ properties/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îî‚îÄ‚îÄ [...proxy]/route.ts
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/ (shadcn components)
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îî‚îÄ‚îÄ map/
‚îî‚îÄ‚îÄ lib/

== ROOT ==
.dockerignore
.gitignore
README.md
```

**–ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**

1. `cd backend && poetry install`
2. `cd frontend && npm install`
3. `docker compose up -d`

***

### **üìÅ –ó–∞–¥–∞—á–∞ 1.2: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö + –º–∏–≥—Ä–∞—Ü–∏–∏ (1 —á–∞—Å)**

**–ü—Ä–æ–º–ø—Ç –¥–ª—è `backend/app/models/property.py`:**

```
–°–æ–∑–¥–∞–π SQLAlchemy 2.0 async –º–æ–¥–µ–ª–∏ –¥–ª—è —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:

from sqlalchemy import (
    BigInteger, String, Integer, Float, DateTime, Boolean, JSON, func
)
from sqlalchemy.ext.asyncio import AsyncAttrs
from sqlalchemy.orm import DeclarativeBase, Mapped, mapped_column
from geoalchemy2 import Geometry
from h3 import h3
import uuid
from datetime import datetime

class Base(AsyncAttrs, DeclarativeBase):
    pass

class Property(Base):
    __tablename__ = "properties"
    
    id: Mapped[uuid.UUID] = mapped_column(primary_key=True, default=uuid.uuid4)
    source: Mapped[str] = mapped_column(String(50), index=True)  # avito, cian, yandex
    external_id: Mapped[str] = mapped_column(String(100), unique=True)
    
    # –ê–¥—Ä–µ—Å –∏ –ª–æ–∫–∞—Ü–∏—è
    address: Mapped[str] = mapped_column(String(255))
    district: Mapped[str] = mapped_column(String(100), index=True)
    complex_name: Mapped[str] = mapped_column(String(200))
    lat: Mapped[float] = mapped_column(Float, nullable=True)
    lng: Mapped[float] = mapped_column(Float, nullable=True)
    point: Mapped[Geometry] = mapped_column(nullable=True)
    geo_hash: Mapped[str] = mapped_column(String(20), index=True)
    
    # –§–∏–Ω–∞–Ω—Å—ã
    price_rub: Mapped[int] = mapped_column(BigInteger, index=True)
    price_per_sqm: Mapped[float] = mapped_column(Float)
    currency: Mapped[str] = mapped_column(String(3), default="RUB")
    
    # –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
    area_total: Mapped[float] = mapped_column(Float)
    rooms_count: Mapped[int] = mapped_column(Integer)
    floor: Mapped[int] = mapped_column(Integer)
    floors_total: Mapped[int] = mapped_column(Integer)
    
    # –ö–æ–Ω—Ç–µ–Ω—Ç
    photos: Mapped[list[str]] = mapped_column(JSON, default=list)
    photos_count: Mapped[int] = mapped_column(Integer, default=0)
    has_plan: Mapped[bool] = mapped_column(Boolean, default=False)
    description: Mapped[str] = mapped_column(String(2000))
    
    # –ö–∞—á–µ—Å—Ç–≤–æ
    quality_score: Mapped[int] = mapped_column(Integer, default=0)  # 0-100
    seller_type: Mapped[str] = mapped_column(String(50))  # developer, agency, private
    seller_name: Mapped[str] = mapped_column(String(255))
    
    # –°—Ç–∞—Ç—É—Å
    status: Mapped[str] = mapped_column(String(20), default="active", index=True)
    published_date: Mapped[datetime] = mapped_column(DateTime)
    last_updated: Mapped[datetime] = mapped_column(DateTime, default=func.now(), onupdate=func.now())
    
    # Raw –¥–∞–Ω–Ω—ã–µ
    raw_data: Mapped[dict] = mapped_column(JSON, default=dict)

# TimescaleDB hypertable –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Ü–µ–Ω
class PriceHistory(Base):
    __tablename__ = "property_price_history"
    
    id: Mapped[int] = mapped_column(primary_key=True, autoincrement=True)
    property_id: Mapped[uuid.UUID] = mapped_column(ForeignKey("properties.id"))
    price_rub: Mapped[int]
    price_per_sqm: Mapped[float]
    recorded_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), index=True)

# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ —Ä–∞–π–æ–Ω–∞–º
class MarketAnalytics(Base):
    __tablename__ = "market_analytics_daily"
    
    id: Mapped[int] = mapped_column(primary_key=True, autoincrement=True)
    date: Mapped[datetime]
    district: Mapped[str]
    segment: Mapped[str] = mapped_column(default="luxury")  # luxury, premium
    listings_count: Mapped[int]
    avg_price: Mapped[float]
    median_price: Mapped[float]
    velocity_days: Mapped[float]  # days on market
```

**–°–æ–∑–¥–∞–π Alembic –º–∏–≥—Ä–∞—Ü–∏—é:**
```
alembic revision --autogenerate -m "initial_schema"
alembic upgrade head
```

***

### **üìÅ –ó–∞–¥–∞—á–∞ 1.3: –ë–∞–∑–æ–≤—ã–π CRUD API (1 —á–∞—Å)**

**–ü—Ä–æ–º–ø—Ç –¥–ª—è `backend/app/api/v1/endpoints/properties.py`:**

```
–°–æ–∑–¥–∞–π FastAPI CRUD endpoints –¥–ª—è properties:

from fastapi import APIRouter, Depends, HTTPException
from sqlalchemy.ext.asyncio import AsyncSession
from sqlalchemy import select, func
from pydantic import BaseModel, Field
from typing import List, Optional
import uuid

router = APIRouter(prefix="/properties", tags=["properties"])

class PropertyCreate(BaseModel):
    source: str
    external_id: str
    address: str
    district: str
    price_rub: int
    area_total: float
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è

class PropertyOut(PropertyCreate):
    id: uuid.UUID
    quality_score: int
    created_at: datetime

@router.post("/", response_model=PropertyOut, status_code=201)
async def create_property(
    property_in: PropertyCreate,
    db: AsyncSession = Depends(get_db)
):
    # –°–æ–∑–¥–∞—Ç—å, –ø–æ—Å—á–∏—Ç–∞—Ç—å quality_score, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
    pass

@router.get("/", response_model=List[PropertyOut])
async def list_properties(
    district: Optional[str] = None,
    price_min: Optional[int] = None,
    limit: int = 50,
    db: AsyncSession = Depends(get_db)
):
    # –° —Å–ª–æ–∂–Ω—ã–º –∑–∞–ø—Ä–æ—Å–æ–º: —Ñ–∏–ª—å—Ç—Ä—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –ø–∞–≥–∏–Ω–∞—Ü–∏—è
    pass

@router.get("/analytics/{district}")
async def district_analytics(
    district: str,
    days: int = 30,
    db: AsyncSession = Depends(get_db)
):
    # –°—Ä–µ–¥–Ω–∏–µ —Ü–µ–Ω—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤, —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂
    return {
        "avg_price": 125000000,
        "listings_count": 42,
        "velocity_days": 28.5
    }
```

***

## **–ù–ï–î–ï–õ–Ø 2: –ü–ê–†–°–ï–†–´ –ö–û–ù–ö–£–†–ï–ù–¢–û–í**

### **üìÅ –ó–∞–¥–∞—á–∞ 2.1: Avito Parser (3-4 —á–∞—Å–∞)**

**–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
poetry add playwright aiohttp tenacity structlog h3 geoalchemy2
poetry add --group dev pytest pytest-asyncio pytest-playwright
playwright install chromium
```

**–ü—Ä–æ–º–ø—Ç –¥–ª—è `backend/app/parsers/avito.py`:**

```
–°–æ–∑–¥–∞–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π AvitoParser —Å –ø–æ–ª–Ω–æ–π –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ü–∏–µ–π:

import asyncio
from dataclasses import dataclass
from playwright.async_api import async_playwright
from typing import List, Optional
import random
import tenacity
from h3 import geo_to_h3

@dataclass
class PropertyRaw:
    external_id: str
    title: str
    price: Optional[int]
    url: str
    district: str
    photos: List[str]
    description: str
    address: str

class AvitoParser:
    def __init__(self):
        self.stealth_scripts = [
            "await page.addInitScript(path='stealth.min.js')",
            "await page.evaluateOnNewDocument(stealth_script)"
        ]
        self.user_agents = [
            "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36...",
            # 50+ —Ä–µ–∞–ª—å–Ω—ã—Ö UA
        ]
    
    @tenacity.retry(
        wait=tenacity.wait_exponential(multiplier=1, min=4, max=10),
        stop=tenacity.stop_after_attempt(5)
    )
    async def parse_search_page(self, district: str, page_num: int = 1) -> List[PropertyRaw]:
        async with async_playwright() as p:
            browser = await p.chromium.launch(headless=True)
            context = await browser.new_context(
                viewport={'width': 1920, 'height': 1080},
                user_agent=random.choice(self.user_agents),
                locale='ru-RU'
            )
            
            # Stealth mode
            page = await context.new_page()
            await page.add_init_script(self.stealth_js())
            
            # Human-like navigation
            await self.human_delay(page, 2, 4)
            await page.goto(f"https://www.avito.ru/sochi/kvartiry/prodazha?q={district}&pmin=50000000&p={page_num}")
            
            # Scroll + wait
            await page.evaluate("window.scrollTo(0, document.body.scrollHeight)")
            await self.human_delay(page, 3, 5)
            
            # Extract listings
            listings = await page.query_selector_all('[data-marker="item"]')
            properties = []
            
            for listing in listings[:20]:  # Top 20
                prop = await self.extract_property(listing)
                if prop and prop.price and prop.price > 50000000:
                    properties.append(prop)
            
            await browser.close()
            return properties
    
    async def extract_property(self, element) -> Optional[PropertyRaw]:
        # XPath/CSS selectors –¥–ª—è Avito 2025
        title = await element.query_selector('h3 a::text')
        price = await self.parse_price(await element.query_selector('[data-marker="price"]'))
        # ... full extraction logic
        
        return PropertyRaw(...)
```

***

## **‚úÖ –ß–¢–û –î–ï–õ–ê–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–° (–ü–µ—Ä–≤—ã–µ 30 –º–∏–Ω—É—Ç):**

1. **–û—Ç–∫—Ä–æ–π Cursor ‚Üí New Project ‚Üí "sochi-elite-realty"**
2. **Composer ‚Üí –í—Å—Ç–∞–≤—å –ø—Ä–æ–º–ø—Ç –ó–∞–¥–∞—á–∏ 1.1 ‚Üí Generate**
3. **–ü—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤**
4. **docker compose up -d**
5. **–í—Å—Ç–∞–≤—å –ø—Ä–æ–º–ø—Ç –ó–∞–¥–∞—á–∏ 1.2 –≤ models/property.py ‚Üí Generate**
6. **`alembic revision --autogenerate` + `upgrade head`**

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–∞–π –∑–Ω–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí –ø–µ—Ä–µ–π–¥—ë–º –∫ API endpoints!**

***

**–°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π.** 

**–ù–ï –ü–†–û–ü–£–°–ö–ê–ô —à–∞–≥–∏ ‚Äî –∫–∞–∂–¥–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Cursor –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞!** üöÄ


# üöÄ **–ü–†–û–î–û–õ–ñ–ï–ù–ò–ï: –ü–û–õ–ù–´–ô –†–û–õ–õ–ê–£–¢ –ù–ï–î–ï–õ–ò 1 + –°–¢–ê–†–¢ –ù–ï–î–ï–õ–ò 2**

## ‚úÖ **–ù–ï–î–ï–õ–Ø 1: –§–ò–ù–ò–® (–ó–∞–¥–∞—á–∏ 1.3-1.6)**

### **üìÅ –ó–∞–¥–∞—á–∞ 1.3: –ü–æ–ª–Ω—ã–π CRUD API + Pydantic —Å—Ö–µ–º—ã (1 —á–∞—Å)**

**–§–∞–π–ª: `backend/app/schemas/property.py`**

**–ü—Ä–æ–º–ø—Ç –¥–ª—è Cursor Composer:**
```
–°–æ–∑–¥–∞–π –ø–æ–ª–Ω—ã–µ Pydantic v2 —Å—Ö–µ–º—ã –¥–ª—è —ç–ª–∏—Ç–Ω–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:

from pydantic import BaseModel, Field, ConfigDict, field_validator
from typing import List, Optional, Annotated
from datetime import datetime
from uuid import UUID
import re

class GeoPoint(BaseModel):
    lat: float = Field(ge=-90, le=90)
    lng: float = Field(ge=-180, le=180)

class PropertyBase(BaseModel):
    source: str = Field(..., regex="^(avito|cian|yandex|vincent|atlas)$")
    external_id: str
    address: str = Field(min_length=5, max_length=255)
    district: str = Field(..., regex="^(–ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞|–°–∏—Ä–∏—É—Å|–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π|–ê–¥–ª–µ—Ä|–ú–∞–º–∞–π–∫–∞|–°–≤–µ—Ç–ª–∞–Ω–∞|–•–æ—Å—Ç–∞)$")
    complex_name: Optional[str] = Field(max_length=200)
    
    price_rub: Annotated[int, Field(gt=50000000)]  # –ú–∏–Ω–∏–º—É–º 50M RUB –¥–ª—è —ç–ª–∏—Ç–∫–∏
    area_total: Annotated[float, Field(gt=50, le=1000)]
    rooms_count: int = Field(ge=1, le=10)
    
    photos: List[str] = Field(default_factory=list, min_length=5)  # –ú–∏–Ω–∏–º—É–º 5 —Ñ–æ—Ç–æ
    description: str = Field(min_length=200, max_length=2000)

class PropertyCreate(PropertyBase):
    lat: Optional[float] = None
    lng: Optional[float] = None

class PropertyUpdate(BaseModel):
    price_rub: Optional[int] = None
    description: Optional[str] = None
    photos: Optional[List[str]] = None

class PropertyOut(PropertyBase):
    model_config = ConfigDict(from_attributes=True)
    
    id: UUID
    quality_score: int = Field(ge=0, le=100)
    geo_hash: Optional[str]
    price_per_sqm: float
    seller_type: str
    status: str
    photos_count: int
    has_plan: bool
    published_date: datetime
    last_updated: datetime

class PropertyAnalytics(BaseModel):
    avg_price: float
    median_price: float
    listings_count: int
    velocity_days: float  # —Å—Ä–µ–¥–Ω–∏–µ –¥–Ω–∏ –Ω–∞ —Ä—ã–Ω–∫–µ
    price_change_pct: float  # –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞ –ø–µ—Ä–∏–æ–¥
```

**–§–∞–π–ª: `backend/app/api/v1/endpoints/properties.py`**

```
–°–æ–∑–¥–∞–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ FastAPI endpoints:

from fastapi import APIRouter, Depends, HTTPException, Query
from sqlalchemy import select, func, and_
from sqlalchemy.ext.asyncio import AsyncSession
from typing import List, Optional
import numpy as np
from ..crud.properties import get_properties, get_property, create_property
from ..schemas.property import PropertyCreate, PropertyOut, PropertyAnalytics

router = APIRouter(prefix="/properties", tags=["properties"])

@router.post("/", response_model=PropertyOut, status_code=201)
async def create_property_endpoint(
    property_in: PropertyCreate,
    db: AsyncSession = Depends(get_db_session)
):
    # –í–∞–ª–∏–¥–∞—Ü–∏—è + geo_hash + quality_score
    property = await create_property(db, obj_in=property_in)
    await db.commit()
    await db.refresh(property)
    return property

@router.get("/", response_model=List[PropertyOut])
async def read_properties(
    district: Optional[str] = Query(None),
    price_min: Optional[int] = Query(50000000),
    price_max: Optional[int] = Query(None),
    status: str = Query("active"),
    limit: int = Query(50, le=100),
    offset: int = Query(0),
    sort: str = Query("price_desc"),
    db: AsyncSession = Depends(get_db_session)
):
    properties = await get_properties(
        db, 
        district=district, 
        price_min=price_min, 
        price_max=price_max,
        status=status,
        limit=limit,
        offset=offset,
        sort=sort
    )
    return properties

@router.get("/{property_id}", response_model=PropertyOut)
async def read_property(
    property_id: UUID,
    db: AsyncSession = Depends(get_db_session)
):
    property = await get_property(db, property_id=property_id)
    if not property:
        raise HTTPException(status_code=404, detail="Property not found")
    return property

@router.get("/{district}/analytics", response_model=PropertyAnalytics)
async def district_analytics(
    district: str,
    days: int = Query(30, ge=1, le=365),
    db: AsyncSession = Depends(get_db_session)
):
    # SQL —Å window functions + numpy –¥–ª—è –º–µ–¥–∏–∞–Ω—ã
    analytics = await get_district_analytics(db, district, days)
    return analytics
```

### **üìÅ –ó–∞–¥–∞—á–∞ 1.4: CRUD —Å–µ—Ä–≤–∏—Å—ã (30 –º–∏–Ω—É—Ç)**

**–§–∞–π–ª: `backend/app/crud/properties.py`**

```
–°–æ–∑–¥–∞–π async CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏:

async def get_properties(
    db: AsyncSession,
    district: Optional[str] = None,
    price_min: Optional[int] = None,
    status: str = "active",
    limit: int = 50,
    offset: int = 0,
    sort: str = "price_desc"
) -> List[Property]:
    
    stmt = select(Property).where(Property.status == status)
    
    if district:
        stmt = stmt.where(Property.district.ilike(f"%{district}%"))
    if price_min:
        stmt = stmt.where(Property.price_rub >= price_min)
    
    if sort == "price_desc":
        stmt = stmt.order_by(Property.price_rub.desc())
    elif sort == "quality_desc":
        stmt = stmt.order_by(Property.quality_score.desc())
    
    stmt = stmt.offset(offset).limit(limit)
    result = await db.execute(stmt)
    return result.scalars().all()

async def get_district_analytics(
    db: AsyncSession, 
    district: str, 
    days: int
) -> PropertyAnalytics:
    # –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π
    from_date = datetime.now() - timedelta(days=days)
    
    stmt = select(
        func.avg(Property.price_rub).label("avg_price"),
        func.percentile_cont(0.5).within_group(Property.price_rub).label("median_price"),
        func.count().label("listings_count")
    ).where(
        and_(
            Property.district.ilike(f"%{district}%"),
            Property.published_date >= from_date
        )
    )
    
    result = await db.execute(stmt)
    row = result.first()
    
    return PropertyAnalytics(
        avg_price=float(row.avg_price or 0),
        median_price=float(row.median_price or 0),
        listings_count=int(row.listings_count or 0),
        velocity_days=28.5,  # TODO: calculate from price_history
        price_change_pct=2.3  # TODO: calculate trend
    )
```

### **üìÅ –ó–∞–¥–∞—á–∞ 1.5: Database + Dependencies (30 –º–∏–Ω—É—Ç)**

**–§–∞–π–ª: `backend/app/database.py`**
```
–°–æ–∑–¥–∞–π async SQLAlchemy engine + session management:

from sqlalchemy.ext.asyncio import create_async_engine, AsyncSession, async_sessionmaker
from sqlalchemy.orm import sessionmaker
from contextlib import asynccontextmanager

DATABASE_URL = "postgresql+asyncpg://user:pass@localhost/sochi_elite"

engine = create_async_engine(DATABASE_URL, echo=True)
AsyncSessionLocal = async_sessionmaker(engine, class_=AsyncSession, expire_on_commit=False)

@asynccontextmanager
async def get_db_session():
    async with AsyncSessionLocal() as session:
        try:
            yield session
            await session.commit()
        except Exception:
            await session.rollback()
            raise
        finally:
            await session.close()
```

**–§–∞–π–ª: `backend/app/api/deps.py`**
```
from fastapi import Depends, HTTPException, status
from fastapi.security import HTTPBearer
from ..database import get_db_session

security = HTTPBearer()

async def get_db_session_dependency(db: AsyncSession = Depends(get_db_session)):
    return db
```

### **üìÅ –ó–∞–¥–∞—á–∞ 1.6: Frontend –±–∞–∑–æ–≤—ã–π dashboard (1 —á–∞—Å)**

**–§–∞–π–ª: `frontend/app/dashboard/page.tsx`**

```
–°–æ–∑–¥–∞–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥ —Å –∫–∞—Ä—Ç–∞–º–∏:

"use client"
import { useState, useEffect } from 'react'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'
import 'leaflet/dist/leaflet.css'
import { PropertiesResponse } from '@/types/property'

export default function Dashboard() {
  const [properties, setProperties] = useState<PropertiesResponse>([])
  const [districtStats, setDistrictStats] = useState({})
  
  useEffect(() => {
    fetchProperties()
    fetchAnalytics()
  }, [])
  
  const fetchProperties = async () => {
    const res = await fetch('/api/proxy/properties?district=–ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞&limit=20')
    const data = await res.json()
    setProperties(data)
  }
  
  return (
    <div className="container mx-auto p-6 space-y-6">
      <h1 className="text-4xl font-bold tracking-tight">–≠–ª–∏—Ç–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –°–æ—á–∏</h1>
      
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        {/* –ö–∞—Ä—Ç–æ—á–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ */}
        <Card>
          <CardHeader>
            <CardTitle>–ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-3xl font-bold">127.5M ‚ÇΩ</div>
            <p className="text-sm text-muted-foreground">–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</p>
          </CardContent>
        </Card>
        
        {/* –ö–∞—Ä—Ç–∞ */}
        <div className="lg:col-span-2">
          <MapContainer center={[43.5853, 39.7203]} zoom={12} className="h-96">
            <TileLayer url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png" />
            {properties.map((property) => (
              property.lat && property.lng && (
                <Marker key={property.id} position={[property.lat, property.lng]}>
                  <Popup>{property.address}<br/>{property.price_rub?.toLocaleString()} ‚ÇΩ</Popup>
                </Marker>
              )
            ))}
          </MapContainer>
        </div>
      </div>
    </div>
  )
}
```

***

## üî• **–ù–ï–î–ï–õ–Ø 2: –ü–ê–†–°–ï–†–´ (–ì–õ–ê–í–ù–û–ï –ö–û–ù–ö–£–†–ï–ù–¢–ù–û–ï –ü–†–ï–ò–ú–£–©–ï–°–¢–í–û)**

### **üìÅ –ó–∞–¥–∞—á–∞ 2.1: Playwright + Stealth Avito Parser (2 —á–∞—Å–∞)**

**–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
cd backend
poetry add playwright aiohttp tenacity structlog h3 geoalchemy2 python-dotenv
poetry add --group dev pytest pytest-asyncio pytest-playwright
playwright install chromium
```

**–§–∞–π–ª: `backend/app/parsers/avito.py`**

**–ü—Ä–æ–º–ø—Ç –¥–ª—è Cursor:**
```
–°–æ–∑–¥–∞–π INDUSTRIAL-GRADE AvitoParser —Å –ø–æ–ª–Ω–æ–π –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ü–∏–µ–π 2025:

```
import asyncio
import random
import json
import tenacity
from dataclasses import dataclass, asdict
from typing import List, Optional, Dict, Any
from playwright.async_api import async_playwright, BrowserContext
from h3 import geo_to_h3
from ..schemas.property import PropertyCreate
from ..database import get_db_session
from ..utils.validators import PropertyContentValidator

@dataclass
class AvitoPropertyRaw:
    external_id: str
    title: str
    price_text: str
    price_rub: Optional[int]
    url: str
    address: str
    district: str
    photos: List[str]
    description: str
    seller_name: str
    raw_data: Dict[str, Any]

class AvitoParser:
    BASE_URL = "https://www.avito.ru"
    SOCHI_DISTRICTS = [
        "–ö—Ä–∞—Å–Ω–∞—è –ü–æ–ª—è–Ω–∞", "–°–∏—Ä–∏—É—Å", "–ê–¥–ª–µ—Ä", "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π", 
        "–ú–∞–º–∞–π–∫–∞", "–°–≤–µ—Ç–ª–∞–Ω–∞", "–•–æ—Å—Ç–∞", "–ì–æ–ª–∏—Ü—ã–Ω–æ"
    ]
    
    USER_AGENTS = [
        "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36",
        # + 30 —Ä–µ–∞–ª—å–Ω—ã—Ö UA –∏–∑ https://github.com/iamcal/ua-parser/blob/master/regexes.yaml
    ]
    
    VIEWPORTS = [
        {"width": 1920, "height": 1080},
        {"width": 1366, "height": 768},
        {"width": 1440, "height": 900}
    ]
    
    def __init__(self):
        self.validator = PropertyContentValidator()
        self.session_count = 0
        
    @tenacity.retry(
        wait=tenacity.wait_exponential(multiplier=2, min=3, max=30),
        stop=tenacity.stop_after_attempt(5),
        reraise=True
    )
    async def parse_district(
        self, 
        district: str, 
        price_min: int = 50000000,
        pages: int = 3
    ) -> List[AvitoPropertyRaw]:
        """–ü–∞—Ä—Å–∏—Ç –≤–µ—Å—å —Ä–∞–π–æ–Ω –∑–∞ 3 —Å—Ç—Ä–∞–Ω–∏—Ü—ã"""
        properties = []
        
        async with async_playwright() as p:
            browser = await p.chromium.launch(
                headless=True,
                args=["--no-sandbox", "--disable-dev-shm-usage"]
            )
            
            context = await self._create_stealth_context(browser)
            page = await context.new_page()
            
            await self._human_navigation(page, district, price_min, pages)
            
            # Extract structured data
            raw_listings = await page.evaluate(self._extract_listings_js)
            for listing in raw_listings[:30]:  # Top 30 per district
                property = await self._parse_detail(page, listing)
                if property and property.price_rub >= price_min:
                    properties.append(property)
            
            await browser.close()
        
        return properties
    
    async def _create_stealth_context(self, browser) -> BrowserContext:
        """Full stealth configuration"""
        context = await browser.new_context(
            viewport=random.choice(self.VIEWPORTS),
            user_agent=random.choice(self.USER_AGENTS),
            locale='ru-RU',
            timezone_id='Europe/Moscow',
            permissions=['geolocation'],
            geolocation={"latitude": 43.5853, "longitude": 39.7203},
            extra_http_headers={
                'Accept-Language': 'ru-RU,ru;q=0.9,en;q=0.8',
                'Sec-Fetch-Site': 'same-origin',
                'Sec-Fetch-Mode': 'navigate'
            }
        )
        
        # Stealth plugins
        await context.add_init_script("""
            // Remove webdriver property
            delete navigator.__proto__.webdriver;
            Object.defineProperty(navigator, 'webdriver', {
                get: () => undefined,
            });
            
            // Spoof languages
            Object.defineProperty(navigator, 'languages', {
                get: () => ['ru-RU', 'ru', 'en-US', 'en'],
            });
        """)
        
        return context
    
    async def _human_navigation(self, page, district, price_min, pages):
        """Human-like browsing behavior"""
        search_query = f"{district} –∫–≤–∞—Ä—Ç–∏—Ä–∞ –ø—Ä–æ–¥–∞–∂–∞ —Ü–µ–Ω–∞ –æ—Ç {price_min//1000000}–º–ª–Ω"
        
        await page.goto(f"{self.BASE_URL}/sochi/kvartiry/prodazha")
        await page.wait_for_load_state('networkidle')
        
        # Type search query human-like
        await page.fill('[data-marker="Search/Bar/Desktop"]', search_query)
        await page.press('[data-marker="Search/Bar/Desktop"]', 'Enter')
        
        await asyncio.sleep(random.uniform(2, 4))
        
        # Scroll + pagination
        for page_num in range(1, pages + 1):
            await page.evaluate("window.scrollTo(0, document.body.scrollHeight/2)")
            await asyncio.sleep(random.uniform(1, 2))
            
            if page_num < pages:
                next_btn = page.locator('[data-marker="pagination-button-next"]')
                if await next_btn.is_enabled():
                    await next_btn.click()
                    await page.wait_for_load_state('networkidle')
    
    @staticmethod
    def _extract_listings_js():
        """JavaScript extractor for listings"""
        return """
        () => {
            const listings = Array.from(document.querySelectorAll('[data-marker="item"]'));
            return listings.map(listing => {
                const link = listing.querySelector('h3 a');
                const price = listing.querySelector('[data-marker="price"]');
                const district = listing.querySelector('[data-marker="item-address"]');
                
                return {
                    url: link?.href,
                    title: link?.textContent?.trim(),
                    price_text: price?.textContent?.trim(),
                    address: district?.textContent?.trim(),
                    thumbnail: listing.querySelector('img')?.src
                };
            }).filter(item => item.url && item.price_text?.includes('‚ÇΩ'));
        }
        """
    
    async def save_to_db(self, properties: List[AvitoPropertyRaw], db_session):
        """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–µ–π –∏ quality scoring"""
        saved = 0
        for prop in properties:
            try:
                # Check duplicate
                existing = await db_session.execute(
                    select(Property).where(
                        and_(
                            Property.source == 'avito',
                            Property.external_id == prop.external_id
                        )
                    )
                )
                
                if existing.scalar_one_or_none():
                    continue
                
                # Create PropertyCreate
                property_create = PropertyCreate(
                    source='avito',
                    external_id=prop.external_id,
                    address=prop.address,
                    district=prop.district,
                    price_rub=prop.price_rub,
                    area_total=0,  # TODO: parse from description
                    photos=prop.photos[:20],
                    description=prop.description,
                    # ... fill other fields
                )
                
                # Validate + score
                validation = await self.validator.validate(property_create)
                property_create.quality_score = validation.quality_score
                
                # Save
                db_property = await create_property(db_session, obj_in=property_create)
                saved += 1
                
            except Exception as e:
                logger.error(f"Failed to save {prop.external_id}: {e}")
        
        return saved

# Celery task
@celery.task(bind=True, max_retries=3)
async def parse_avito_districts(self):
    parser = AvitoParser()
    total_saved = 0
    
    for district in AvitoParser.SOCHI_DISTRICTS:
        props = await parser.parse_district(district)
        async with get_db_session() as db:
            saved = await parser.save_to_db(props, db)
            total_saved += saved
            logger.info(f"Parsed {district}: {len(props)} found, {saved} saved")
    
    return {"total_saved": total_saved, "timestamp": datetime.now()}
```

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞:**
```
# –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ –¥–ª—è —Ç–µ—Å—Ç–∞
playwright test backend/tests/test_avito_parser.py
```

---

## ‚úÖ **–ß–¢–û –î–ï–õ–ê–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–° (–°–ª–µ–¥—É—é—â–∏–µ 2 —á–∞—Å–∞):**

1. **–ó–∞–¥–∞—á–∞ 1.3-1.6** ‚Äî —Å–æ–∑–¥–∞–π –≤—Å–µ API endpoints –∏ —Å—Ö–µ–º—ã
2. **`docker compose up --build`** ‚Äî –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ backend:8000 —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **`http://localhost:8000/docs`** ‚Äî –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π Swagger
4. **–ó–∞–¥–∞—á–∞ 2.1** ‚Äî —Å–æ–∑–¥–∞–π AvitoParser
5. **`poetry run playwright install`** + —Ç–µ—Å—Ç –ø–∞—Ä—Å–µ—Ä–∞

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ 10+ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ –ö—Ä–∞—Å–Ω–æ–π –ü–æ–ª—è–Ω—ã ‚Üí —Å–æ–æ–±—â—É —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏!**

---

**–î–ê–ô –ó–ù–ê–¢–¨ –ö–û–ì–î–ê –ë–ê–ó–ê –†–ê–ë–û–¢–ê–ï–¢ –ò –ü–ê–†–°–ï–† –í–´–î–ê–Å–¢ –ü–ï–†–í–´–ï –î–ê–ù–ù–´–ï!** üìäüöÄ